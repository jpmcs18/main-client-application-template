(this["webpackJsonpmain-client"]=this["webpackJsonpmain-client"]||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(36),i=n.n(a),s=(n(64),n(4)),o=n(13),u=n(15),l=n(0);function d(e){var t=e.title,n=e.className,r=e.onClose,a=e.children;return Object(c.useEffect)((function(){return document.body.classList.add("body-modal"),function(){document.body.classList.remove("body-modal")}})),i.a.createPortal(Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"modal-container",children:[Object(l.jsx)("div",{className:"modal-blocker"}),Object(l.jsxs)("div",{className:"modal-content "+n,children:[Object(l.jsxs)("div",{className:"modal-content-header",children:[Object(l.jsx)("div",{className:"header-text",children:t}),void 0!==r&&Object(l.jsx)(u.a,{className:"close-icon",icon:o.j,onClick:r})]}),a]})]})}),document.getElementById("modal"))}function j(){var e=Object(c.useContext)(I),t=Object(c.useContext)(P),n=L(),r=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e;null===r||void 0===r||null===(e=r.current)||void 0===e||e.focus()}),[]),Object(l.jsxs)(d,{children:[Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("p",{children:null===t||void 0===t?void 0:t.message})}),Object(l.jsxs)("div",{className:"modal-footer",children:[Object(l.jsxs)("button",{onClick:function(){var c;"Unauthorized"===(null===t||void 0===t?void 0:t.message)&&n(!1),e(),null===t||void 0===t||null===(c=t.onOk)||void 0===c||c.call(t)},className:"btn-modal btn-primary",ref:r,children:[(void 0===(null===t||void 0===t?void 0:t.action)||"OKCANCEL"===(null===t||void 0===t?void 0:t.action))&&Object(l.jsx)("span",{children:"OK"}),"YESNO"===(null===t||void 0===t?void 0:t.action)&&Object(l.jsx)("span",{children:"YES"})]}),(null===t||void 0===t?void 0:t.action)&&Object(l.jsxs)("button",{onClick:function(){e()},className:"btn-modal btn-secondary ",children:["OKCANCEL"===(null===t||void 0===t?void 0:t.action)&&Object(l.jsx)("span",{children:"CANCEL"}),"YESNO"===(null===t||void 0===t?void 0:t.action)&&Object(l.jsx)("span",{children:"NO"})]})]})]})}var f=(window.location.protocol,"https://apiticketsys.navotas.gov.ph"),b="nothingunusualkey",p=1,h=1,v=2,O=3,x=n(68),m="--pxx--",y="--pxx-xdx--";function w(e){return x.AES.encrypt(e,b).toString()}function g(e){return x.AES.decrypt(e,b).toString(x.enc.Utf8)}function k(e){void 0!==e.token&&void 0!==e.refreshToken&&sessionStorage.setItem(m,w(JSON.stringify(e)))}function C(){sessionStorage.removeItem(m)}function N(){try{var e;return JSON.parse(g(null!==(e=sessionStorage.getItem(m))&&void 0!==e?e:""))}catch(t){return}}function S(e){if(void 0!==e){var t={username:e.username,admin:e.admin,personnel:e.personnel,distinctModules:e.distinctModules,isAvailable:e.isAvailable};sessionStorage.setItem(y,w(JSON.stringify(t)))}}var D=r.a.createContext(!1),A=r.a.createContext(void 0),E=r.a.createContext((function(){})),I=r.a.createContext((function(){})),P=r.a.createContext(void 0),R=r.a.createContext(!1),F=r.a.createContext((function(){})),U=r.a.createContext((function(){})),M=r.a.createContext((function(){}));function T(){return Object(c.useContext)(A)}function L(){return Object(c.useContext)(F)}function Y(){return Object(c.useContext)(E)}function V(){return Object(c.useContext)(U)}function K(){return Object(c.useContext)(M)}function z(e){var t=e.children,n=Object(c.useState)((function(){var e=N();return void 0!==(null===e||void 0===e?void 0:e.token)})),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)((function(){return function(){try{var e;return JSON.parse(g(null!==(e=sessionStorage.getItem(y))&&void 0!==e?e:""))}catch(t){return}}()})),u=Object(s.a)(o,2),d=u[0],f=u[1],b=Object(c.useState)(!1),p=Object(s.a)(b,2),h=p[0],v=p[1],O=Object(c.useState)(),x=Object(s.a)(O,2),m=x[0],w=x[1],k=Object(c.useState)((function(){return 0})),C=Object(s.a)(k,2),S=C[0],T=C[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"loading-screen"+(S>0?" loading-block":""),children:[Object(l.jsx)("div",{className:"loading-blocker"}),Object(l.jsx)("div",{className:"loading",children:Object(l.jsx)("div",{})})]}),Object(l.jsx)(U.Provider,{value:function(e){T((function(t){return t+(e?1:-1)})),S+(e?1:-1)===1?document.body.classList.add("body-modal"):document.body.classList.remove("body-modal")},children:Object(l.jsx)(R.Provider,{value:h,children:Object(l.jsx)(I.Provider,{value:function(){v(!1)},children:Object(l.jsx)(P.Provider,{value:m,children:Object(l.jsx)(E.Provider,{value:function(e){w(e),v(!0)},children:Object(l.jsx)(D.Provider,{value:a,children:Object(l.jsx)(F.Provider,{value:function(e){e||(sessionStorage.clear(),f(void 0)),i(e)},children:Object(l.jsx)(A.Provider,{value:d,children:Object(l.jsxs)(M.Provider,{value:function(e){f(e)},children:[t,h&&Object(l.jsx)(j,{})]})})})})})})})})})]})}var B=n(16),J=n(37),q=n(17),W=n(12),G=n(6),H=n(3),Q=n(1),X=n.n(Q),Z="securities/refresh",$="securities/log",_="users/profile",ee="users/search",te="users/activate",ne="users/reset-password",ce="users",re="users",ae="users",ie="users/profile",se="modules",oe="roles/search",ue="roles",le="roles",de="roles",je="concerns/search",fe="concerns",be="concerns",pe="concerns",he="concerns/assign",ve="classifications",Oe="classifications/search",xe="classifications",me="classifications",ye="offices",we="offices/search",ge="offices",ke="offices",Ce="personnels",Ne="personnels/classification/available",Se="personnels/search",De="personnels",Ae="personnels",Ee="personnel-concerns",Ie="personnel-concerns/actions",Pe="personnel-concerns/resolve",Re="personnel-concerns/forward",Fe="personnel-concerns/summary",Ue="personnel-concerns/detailed-summary",Me="/transaction-hub",Te=n(33),Le=n.n(Te);function Ye(e){return Ve.apply(this,arguments)}function Ve(){return Ve=Object(H.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(null===(n=N())||void 0===n?void 0:n.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Le.a.get(t,{headers:{Authorization:"Bearer "+(null===n||void 0===n?void 0:n.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=200===e.t0?3:4;break;case 3:return e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(H.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.response){e.next=15;break}e.t0=n.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(n.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Qe();case 8:if(!e.sent){e.next=12;break}return e.next=11,Ye(t);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("Not Data Found");case 15:throw new Error(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Ve.apply(this,arguments)}function Ke(e,t){return ze.apply(this,arguments)}function ze(){return ze=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(c=N())||void 0===c?void 0:c.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Le.a.post(t,n,{headers:{Authorization:"Bearer "+(null===c||void 0===c?void 0:c.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=200===e.t0?3:201===e.t0?4:204===e.t0?5:6;break;case 3:case 4:return e.abrupt("return",t.data);case 5:return e.abrupt("return",!0);case 6:throw new Error("Unknown Error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(H.a)(X.a.mark((function e(c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.response){e.next=15;break}e.t0=c.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(c.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Qe();case 8:if(!e.sent){e.next=12;break}return e.next=11,Ke(t,n);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("No Data Found");case 15:throw new Error(c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),ze.apply(this,arguments)}function Be(e,t){return Je.apply(this,arguments)}function Je(){return Je=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(c=N())||void 0===c?void 0:c.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Le.a.put(t,n,{headers:{Authorization:"Bearer "+(null===c||void 0===c?void 0:c.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=204===e.t0?3:4;break;case 3:return e.abrupt("return",!0);case 4:throw new Error("Unknown Error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(H.a)(X.a.mark((function e(c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.response){e.next=15;break}e.t0=c.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(c.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Qe();case 8:if(!e.sent){e.next=12;break}return e.next=11,Be(t,n);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("No Data Found");case 15:throw new Error(c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}function qe(e){return We.apply(this,arguments)}function We(){return We=Object(H.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(n=N())||void 0===n?void 0:n.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Le.a.delete(t,{headers:{Authorization:"Bearer "+(null===n||void 0===n?void 0:n.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=204===e.t0?3:4;break;case 3:return e.abrupt("return",!0);case 4:throw new Error("Unknown Error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(H.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.response){e.next=15;break}e.t0=n.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(n.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Qe();case 8:if(!e.sent){e.next=12;break}return e.next=11,qe(t);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("No Data Found");case 15:throw new Error(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),We.apply(this,arguments)}function Ge(e,t){return He.apply(this,arguments)}function He(){return He=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.a.post(t,JSON.stringify(n),{headers:{"content-type":"application/json"},baseURL:f}).then((function(e){if(200===e.status)return e.data;throw new Error("Unknown Error")})).catch(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=7;break}e.t0=t.response.status,e.next=400===e.t0?4:404===e.t0?5:6;break;case 4:case 6:throw new Error(t.response.data);case 5:throw new Error("No Data Found");case 7:throw new Error(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),He.apply(this,arguments)}function Qe(){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(H.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N(),e.next=3,Ge(Z,t).then((function(e){if(void 0!==e)return k(e),!0;throw new Error("Unauthorized")})).catch((function(){throw C(),new Error("Unauthorized")}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){return $e.apply(this,arguments)}function $e(){return($e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge($,t).then((function(e){return k(e),!0}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return et.apply(this,arguments)}function et(){return(et=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(_);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(){return(tt=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(ee+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(te+"/"+t,null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e){return at.apply(this,arguments)}function at(){return(at=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(ne+"/"+t,null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return st.apply(this,arguments)}function st(){return(st=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(ce+"/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){return ut.apply(this,arguments)}function ut(){return(ut=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(re,Object(G.a)(Object(G.a)({},t),{},{roleIds:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t,n){return dt.apply(this,arguments)}function dt(){return(dt=Object(H.a)(X.a.mark((function e(t,n,c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(ae+"/"+t.id,Object(G.a)(Object(G.a)({},t),{},{newRoleIds:n,accessToDelete:c}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(ie,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e){var t=e.title,n=e.name,r=e.type,a=e.id,i=e.className,d=e.value,j=e.readonly,f=e.onChange,b=e.onKeyPress,p=Object(c.useState)(!0),h=Object(s.a)(p,2),v=h[0],O=h[1];return Object(l.jsxs)("div",{className:"custom-input ",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)("div",{className:"input-container",children:j?Object(l.jsx)("span",{children:d}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{type:"password"===r?v?"password":"text":null!==r&&void 0!==r?r:"text",name:n,id:a,value:d,className:"".concat(i," ").concat(r),onChange:function(e){return null===f||void 0===f?void 0:f({elementName:null!==n&&void 0!==n?n:"",value:e.target.value})},onKeyPress:b}),"password"===r&&Object(l.jsx)("div",{className:"eye-container",children:Object(l.jsx)(u.a,{icon:v?o.f:o.g,className:"eye-icon",onClick:function(){O((function(e){return!e}))}})})]})})]})}function pt(){var e=Object(c.useState)({username:"",password:""}),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Y(),i=K(),o=L(),u=V();function d(){return j.apply(this,arguments)}function j(){return j=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Ze(n).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,f();case 3:o(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function f(){return b.apply(this,arguments)}function b(){return(b=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,_e().then((function(e){void 0!==e&&(S(e),i(e))})).catch((function(e){a({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){var t=e.elementName,c=e.value;r(Object(G.a)(Object(G.a)({},n),{},Object(W.a)({},t,c)))}function h(e){if("Enter"===e.key){var t,c;if(""===n.username)return void(null===(t=document.getElementById("username"))||void 0===t||t.focus());if(""===n.password)return void(null===(c=document.getElementById("password"))||void 0===c||c.focus());d()}}return Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"login-container",children:[Object(l.jsx)("div",{className:"login-header",children:Object(l.jsx)("h1",{children:"Authentication"})}),Object(l.jsxs)("div",{className:"login-content",children:[Object(l.jsx)(bt,{title:"Username",name:"username",id:"username",className:"username",onChange:p,onKeyPress:h}),Object(l.jsx)(bt,{title:"Password",name:"password",id:"password",type:"password",className:"password",onChange:p,onKeyPress:h}),Object(l.jsx)("button",{onClick:d,className:"btn btn-signin",children:"Login"})]})]})})}function ht(e){var t=e.pages,n=e.currentPageNumber,r=e.goInPage,a=Object(c.useState)((function(){return n})),i=Object(s.a)(a,2),d=i[0],j=i[1],f=Object(c.useState)(!1),b=Object(s.a)(f,2),p=b[0],h=b[1],v=Object(c.useState)(!1),O=Object(s.a)(v,2),x=O[0],m=O[1],y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(!1),N=Object(s.a)(C,2),S=N[0],D=N[1],A=Object(c.useState)([]),E=Object(s.a)(A,2),I=E[0],P=E[1];return Object(c.useEffect)((function(){j(n);for(var e=[],c=1;c<=t;c++)e.push(c);return P(e),k(!1),D(!1),h(!1),m(!1),t>1&&(n!==t&&(k(!0),D(!0)),1!==n&&(h(!0),m(!0))),function(){e=[]}}),[t,n]),Object(l.jsxs)("div",{className:"pagination",children:[Object(l.jsx)(u.a,{icon:o.a,className:p?"":"disabled",onClick:function(){p&&(r(1),h(!1),m(!1),k(!0),D(!0))}}),Object(l.jsx)(u.a,{icon:o.c,onClick:function(){x&&(j((function(e){return 1===(e-=1)&&(h(!1),m(!1)),r(e),e})),k(!0),D(!0))},className:x?"":"disabled"}),Object(l.jsxs)("div",{className:"pages-container",children:[Object(l.jsx)("button",{className:"current-page",children:d}),Object(l.jsx)("div",{className:"pages",children:I.map((function(e){return Object(l.jsx)("div",{className:e===d?"active":"",onClick:function(){var n;j(n=e),h(!0),m(!0),k(!0),D(!0),1===n&&(h(!1),m(!1)),n===t&&(k(!1),D(!1)),r(n)},children:e},e)}))})]}),Object(l.jsx)(u.a,{icon:o.d,onClick:function(){g&&(j((function(e){return(e+=1)===t&&(k(!1),D(!1)),r(e),e})),h(!0),m(!0))},className:g?"":"disabled"}),Object(l.jsx)(u.a,{icon:o.b,onClick:function(){S&&(j(t),k(!1),D(!1),h(!0),m(!0),r(t))},className:S?"":"disabled"})]})}function vt(e){var t=e.search,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],i=r[1];return Object(l.jsxs)("div",{className:"search-container",children:[Object(l.jsx)("input",{type:"text",className:"name",placeholder:"Search...",value:a,onChange:function(e){i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(a)}}),Object(l.jsx)(u.a,{className:"search-icon",icon:o.h,onClick:function(){t(a)}})]})}function Ot(e){var t,n,c,r,a,i,s,o,u=e.user,d=e.action;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:null===(t=u.personnel)||void 0===t?void 0:t.name}),Object(l.jsx)("td",{children:null===(n=u.personnel)||void 0===n||null===(c=n.office)||void 0===c?void 0:c.description}),Object(l.jsx)("td",{children:null===(r=u.personnel)||void 0===r||null===(a=r.personnelClassification)||void 0===a?void 0:a.map((function(e){var t;return null===(t=e.classification)||void 0===t?void 0:t.description})).join(" | ")}),Object(l.jsx)("td",{children:u.username}),Object(l.jsxs)("td",{className:"elipsis",children:[u.admin?"Admin":"User",(null!==(i=null===(s=u.userRoles)||void 0===s?void 0:s.length)&&void 0!==i?i:0)>0&&" | ",null===(o=u.userRoles)||void 0===o?void 0:o.map((function(e){var t;return null===(t=e.role)||void 0===t?void 0:t.description})).join(" | ")]}),Object(l.jsxs)("td",{align:"center",children:[Object(l.jsx)("div",{children:u.active?"Active":"Inactive"}),Object(l.jsx)("div",{children:u.isAvailable?"Available":"Unavailable"})]}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return d({type:"Activate",id:u.id,active:u.active})},children:"Activate/Deactivate"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return d({type:"ResetPassword",id:u.id})},children:"Reset Password"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return d({type:"Edit",user:u})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return d({type:"Delete",id:u.id})},children:"Delete"})]})]})}function xt(){return mt.apply(this,arguments)}function mt(){return(mt=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye(Ce));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){return wt.apply(this,arguments)}function wt(){return(wt=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye("".concat(Ne,"?classificationId=").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return(gt=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(Se+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ke(De,Object(G.a)(Object(G.a)({},t),{},{classificationIds:n})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e,t,n){return St.apply(this,arguments)}function St(){return(St=Object(H.a)(X.a.mark((function e(t,n,c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be("".concat(Ae,"/").concat(t.id),Object(G.a)(Object(G.a)({},t),{},{newClassificationIds:n,classificationsToDelete:c})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(){return At.apply(this,arguments)}function At(){return(At=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye(ue));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return(Et=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(oe+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(le,{description:t,moduleIds:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e,t,n,c){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(H.a)(X.a.mark((function e(t,n,c,r){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(de+"/"+t,{description:n,newModuleIds:c,accessToDelete:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e){var t=e.title,n=e.name,c=e.id,r=e.className,a=e.isCheck,i=e.onChange;return Object(l.jsx)("div",{className:"custom-input "+r,children:Object(l.jsx)("button",{className:"checkbox"+(a?" checked":""),value:a?"true":"false",id:c,onClick:function(){null===i||void 0===i||i({elementName:null!==n&&void 0!==n?n:"",value:!a})},children:t})})}function Mt(e){var t,n=e.title,c=e.name,r=e.id,a=e.className,i=e.value,s=e.itemsList,o=e.readonly,u=e.onChange,d=e.hasDefault;return Object(l.jsxs)("div",{className:"custom-input",children:[Object(l.jsx)("label",{children:n}),Object(l.jsx)("div",{className:"select-container",children:o?Object(l.jsx)("span",{children:null===(t=s.find((function(e){return e.key===i})))||void 0===t?void 0:t.value}):Object(l.jsxs)("select",{id:r,className:a,value:null!==i&&void 0!==i?i:"",onChange:function(e){var t,n;null===u||void 0===u||u({elementName:null!==c&&void 0!==c?c:"def",value:e.target.value,text:null===(t=e.target.selectedOptions)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text})},children:[d&&Object(l.jsx)("option",{value:void 0}),null===s||void 0===s?void 0:s.map((function(e){return Object(l.jsx)("option",{value:e.key,children:e.value},e.key)}))]})})]})}function Tt(){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(se);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e){var t=e.isCheck,n=e.checkChange,c=e.id,r=e.text;return Object(l.jsxs)("div",{className:"check",children:[Object(l.jsxs)("label",{className:"check-container",children:[Object(l.jsx)("input",{type:"checkbox",id:null!==c&&void 0!==c?c:"check",onChange:n,checked:t}),Object(l.jsx)("span",{className:"checkmark"})]}),r&&Object(l.jsx)("label",{className:"check-label",htmlFor:null!==c&&void 0!==c?c:"check",children:r})]})}function Vt(e){var t,n=e.module,r=Object(c.useContext)(zt);return Object(l.jsx)("tr",{children:Object(l.jsx)("td",{className:"left-content",children:n.viewOnly?Object(l.jsx)("div",{children:n.description}):Object(l.jsx)(Yt,{checkChange:function(){r({action:"Check",payload:n})},id:n.id.toString(),text:n.description,isCheck:null!==(t=null===n||void 0===n?void 0:n.checked)&&void 0!==t&&t})})})}function Kt(){var e=Object(c.useContext)(Bt);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Module Access"})})}),Object(l.jsx)("tbody",{children:e.map((function(e){return Object(l.jsx)(Vt,{module:e},e.id)}))})]})}var zt=Object(c.createContext)((function(){})),Bt=Object(c.createContext)([]);function Jt(e){var t=e.selectedRole,n=e.onClose,r=e.viewOnly,a=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,description:"",accesses:[]}})),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)([]),f=Object(s.a)(j,2),b=f[0],p=f[1],h=V(),v=Y();function O(){return(O=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),0!==o.id){e.next=6;break}return e.next=4,It(o.description,b.filter((function(e){return e.checked})).map((function(e){return e.id}))).then((function(){v({message:"Role Added",onOk:function(){n(!0)}})})).catch((function(e){v({message:e.message})})).finally((function(){return h(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Rt(o.id,o.description,b.filter((function(e){return e.checked&&void 0===e.accessId})).map((function(e){return e.id})),b.filter((function(e){return!e.checked&&void 0!==e.accessId})).map((function(e){var t;return null!==(t=e.accessId)&&void 0!==t?t:0}))).then((function(){v({message:"Role Updated",onOk:function(){n(!0)}})})).catch((function(e){v({message:e.message})})).finally((function(){return h(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.action,e.next="Check"===e.t0?3:5;break;case 3:return p(b.map((function(e){return e.id===t.payload.id&&(e.checked=!e.checked),e}))),e.abrupt("break",5);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return w=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Tt().then((function(e){if(void 0!==e){var t=e.map((function(e){var t,n,c=null===(t=o.accesses)||void 0===t||null===(n=t.filter((function(t){return t.moduleId===e.id})))||void 0===n?void 0:n[0];return void 0!==c&&(e.checked=!0,e.accessId=c.id),e}));r&&(t=t.filter((function(e){return void 0!==e.accessId})).map((function(e){return e.viewOnly=!0,e}))),p(t)}})).catch((function(e){v({message:e.message})})).finally((function(){return h(!1)}));case 3:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}return Object(c.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){n(!1)},title:r?"Role":null!==t&&void 0!==t&&t.id?"Update Role":"Add New Role",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:Object(l.jsx)(bt,{title:"Description",name:"description",value:o.description,onChange:function(e){u((function(t){return Object(G.a)(Object(G.a)({},t),{},Object(W.a)({},e.elementName,e.value))}))},readonly:r})}),Object(l.jsx)("div",{children:Object(l.jsx)(Bt.Provider,{value:b,children:Object(l.jsx)(zt.Provider,{value:function(e){return m.apply(this,arguments)},children:Object(l.jsx)(Kt,{})})})}),!r&&Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return x.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}function qt(e){var t,n,r,a,i=e.usersInfo,j=e.onClose,f=Object(c.useState)([]),b=Object(s.a)(f,2),p=b[0],h=b[1],v=Object(c.useState)((function(){return null!==i&&void 0!==i?i:{id:0,username:"",active:!1,admin:!1,personnelId:void 0}})),O=Object(s.a)(v,2),x=O[0],m=O[1],y=Object(c.useState)([]),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)((function(){var e;return null!==(e=null===i||void 0===i?void 0:i.userRoles)&&void 0!==e?e:[]})),N=Object(s.a)(C,2),S=N[0],D=N[1],A=Object(c.useState)(!1),E=Object(s.a)(A,2),I=E[0],P=E[1],R=Object(c.useState)(),F=Object(s.a)(R,2),U=F[0],M=F[1],T=V(),L=Y();function K(){return(K=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.next=4,Z();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),0!==x.id){e.next=6;break}return e.next=4,ot(x,S.map((function(e){return e.roleId}))).then((function(){L({message:"New User Added",onOk:function(){j(!0)}})})).catch((function(e){L({message:e.message})})).finally((function(){return T(!1)}));case 4:e.next=8;break;case 6:return e.next=8,lt(x,S.filter((function(e){return 0===e.id})).map((function(e){return e.roleId})),S.filter((function(e){return e.deleted})).map((function(e){return e.id}))).then((function(){L({message:"User Updated",onOk:function(){j(!0)}})})).catch((function(e){L({message:e.message})})).finally((function(){return T(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return q.apply(this,arguments)}function q(){return(q=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,xt().then((function(e){void 0!==e&&h((function(){return e.map((function(e){return{key:e.id.toString(),value:e.name}}))}))})).catch((function(e){L({message:e.message})})).finally((function(){return T(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){var t=e.elementName,n=e.value,c=e.text;if("role"===t){if(console.log(n),void 0===n)return;return D((function(e){return[].concat(Object(B.a)(e),[{id:0,roleId:+n,roleDesc:c,userId:x.id}])})),console.log(S),void k((function(e){return e.filter((function(e){return e.key!==n}))}))}m((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(W.a)({},t,n))}))}function Z(){return $.apply(this,arguments)}function $(){return($=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,Dt().then((function(e){void 0!==e&&k((function(){return e.filter((function(e){var t,n,c;return!(null!==(t=x.userRoles)&&void 0!==t&&null!==(n=t.filter((function(t){return t.roleId===e.id})))&&void 0!==n&&null!==(c=n[0])&&void 0!==c&&c.id)})).map((function(e){return{key:e.id.toString(),value:e.description}}))}))})).catch((function(e){L({message:e.message})})).finally((function(){T(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){K.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return j(!1)},title:(null!==(t=null===x||void 0===x?void 0:x.id)&&void 0!==t?t:0)>0?"Update Users Information":"Add New User",children:[Object(l.jsxs)("div",{className:"user-management-modal-body modal-content-body",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(Mt,{title:"Personnel",name:"personnelId",hasDefault:!0,value:null===x||void 0===x?void 0:x.personnelId,onChange:Q,itemsList:p}),Object(l.jsx)(bt,{title:"Username",name:"username",value:null===x||void 0===x?void 0:x.username,onChange:Q})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(Ut,{title:null!==x&&void 0!==x&&x.admin?"Admin":"User",name:"admin",isCheck:null!==(n=null===x||void 0===x?void 0:x.admin)&&void 0!==n&&n,onChange:Q}),Object(l.jsx)(Ut,{title:null!==x&&void 0!==x&&x.active?"Active":"Inactive",name:"active",isCheck:null!==(r=null===x||void 0===x?void 0:x.active)&&void 0!==r&&r,onChange:Q}),Object(l.jsx)(Ut,{title:null!==x&&void 0!==x&&x.isAvailable?"Available":"Unavailable",name:"isAvailable",isCheck:null!==(a=null===x||void 0===x?void 0:x.isAvailable)&&void 0!==a&&a,onChange:Q})]}),Object(l.jsx)("div",{children:Object(l.jsx)(Mt,{title:"Role",name:"role",hasDefault:!0,onChange:Q,itemsList:g})}),Object(l.jsx)("div",{className:"table-container",children:Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"User Roles"})})}),Object(l.jsx)("tbody",{children:null===S||void 0===S?void 0:S.map((function(e){var t,n;return Object(l.jsxs)("tr",{className:e.deleted?"deleted":"",children:[Object(l.jsx)("td",{children:null!==(t=e.roleDesc)&&void 0!==t?t:null===(n=e.role)||void 0===n?void 0:n.description}),Object(l.jsxs)("td",{className:"table-actions",children:[e.deleted&&Object(l.jsx)(u.a,{icon:o.l,className:"action-icon table-icon-button",onClick:function(){!function(e){D((function(t){return t.map((function(t){return t.roleId===e.roleId&&(t.deleted=!1),t}))}))}(e)},title:"Undo"}),!e.deleted&&Object(l.jsx)(u.a,{icon:o.k,className:"action-icon table-icon-button",onClick:function(){!function(e){var t,n,c,r;D((function(t){return 0===e.id?t.filter((function(t){return t.roleId!==e.roleId})):t.map((function(t){return t.roleId===e.roleId&&(t.deleted=!0),t}))})),0===e.id&&k([].concat(Object(B.a)(g),[{key:null!==(t=null===(n=e.roleId)||void 0===n?void 0:n.toString())&&void 0!==t?t:"",value:null!==(c=null===(r=e.role)||void 0===r?void 0:r.description)&&void 0!==c?c:""}]))}(e)},title:"Delete"}),Object(l.jsx)(u.a,{icon:o.f,className:"action-icon table-icon-button",onClick:function(){!function(e){M(e.role),P(!0)}(e)},title:"View"})]})]},e.roleId)}))})]})})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return z.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})}),Object(l.jsx)("div",{children:I&&Object(l.jsx)(Jt,{onClose:function(){P(!1)},selectedRole:U,viewOnly:!0})})]})}function Wt(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),h=Object(s.a)(p,2),v=h[0],O=h[1],x=V(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],D=N[1];function A(e){switch(e.type){case"Activate":t=e.id,n=e.active,m({message:"Active this user?",action:"YESNO",onOk:function(){var e=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,nt(t).then((function(e){u((function(e){return e.map((function(e){return e.id===t&&null!==n&&(e.active=!n),e}))})),m({message:n?"Deactivated":"Activated"})})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}));case 3:case"end":return e.stop()}}),e)})));function c(){return e.apply(this,arguments)}return c}()});break;case"ResetPassword":!function(e){m({message:"Reset Password?",action:"YESNO",onOk:function(){var t=Object(H.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.next=3,rt(e).then((function(){m({message:"Password reset to default password"})})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}));case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})}(e.id);break;case"Edit":k(!0),D(e.user);break;case"Delete":m({message:"Are you sure you want to delete this?",action:"YESNO",onOk:function(){!function(e){E.apply(this,arguments)}(e.id)}});break;default:m({message:"Invalid Action"})}var t,n}function E(){return(E=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,it(t).then((function(){m({message:"User Deleted",onOk:function(){I(n,v)}})})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){x(!0),function(e,t){return tt.apply(this,arguments)}(e,t).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),O(t))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){I(n,v)}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Users"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(vt,{search:function(e){r(e),I(e,1)}})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{pages:f,currentPageNumber:v,goInPage:function(e){I(n,e)}})}),Object(l.jsx)("section",{className:"table-container",children:Object(l.jsxs)("table",{className:"users-content item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Office"}),Object(l.jsx)("th",{children:"Classification"}),Object(l.jsx)("th",{children:"Username"}),Object(l.jsx)("th",{children:"Role"}),Object(l.jsx)("th",{children:"Status"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:6,children:Object(l.jsx)("button",{className:"btn",onClick:function(){D(void 0),k(!0)},children:"Add New User"})})})]}),Object(l.jsx)("tbody",{children:o.map((function(e){return Object(l.jsx)(Ot,{user:e,action:A},e.id)}))})]})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(qt,{onClose:function(e){k(!1),e&&I(n,v)},usersInfo:S})})]})}var Gt="/",Ht="/users",Qt="/roles",Xt="/offices",Zt="/personnels",$t="/classifications",_t="/concerns-monitoring",en="/concerns",tn="/tickets",nn="/summary",cn=n(121),rn=n(5),an=n(59);function sn(){return on.apply(this,arguments)}function on(){return(on=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(ve);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function un(){return(un=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(Oe+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e){return dn.apply(this,arguments)}function dn(){return(dn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ke(xe,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e){return fn.apply(this,arguments)}function fn(){return(fn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be("".concat(me,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function pn(e,t){var n=new Date(e);return n.setMonth(n.getMonth()+t),n}function hn(e){var t=new Date(e);return t.setDate(1),t=bn(t=pn(t,1),-1)}function vn(e){var t=new Date(e);return t.setDate(1),t}function On(e){return void 0===e?void 0:new Date(e).toLocaleString()}function xn(e,t,n,c,r,a,i,s){return mn.apply(this,arguments)}function mn(){return(mn=Object(H.a)(X.a.mark((function e(t,n,c,r,a,i,s,o){var u,l,d;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="?page=".concat(n,"&isAssigned=").concat(c,"&isClosed=").concat(r),void 0!==t&&(u+="&key="+encodeURI(t)),void 0!==a&&(u+="&start="+encodeURI(null!==(l=On(a))&&void 0!==l?l:"")),void 0!==i&&(u+="&end="+encodeURI(null!==(d=On(i))&&void 0!==d?d:"")),void 0!==s&&(u+="&officeId="+s),void 0!==o&&(u+="&classificationId="+o),e.next=8,Ye(je+u);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t){return wn.apply(this,arguments)}function wn(){return(wn=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(fe,Object(G.a)(Object(G.a)({},t),{},{personnelId:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be("".concat(be,"/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe("".concat(pe,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(he,{id:t,personnelId:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e){var t,n=e.concern,r=Object(c.useContext)(Xn);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:n.entryDate&&On(n.entryDate)}),Object(l.jsx)("td",{children:n.number}),Object(l.jsx)("td",{children:n.description}),Object(l.jsx)("td",{children:null===(t=n.classification)||void 0===t?void 0:t.description}),Object(l.jsx)("td",{children:n.caller}),Object(l.jsxs)("td",{children:[Object(l.jsx)("div",{children:n.status}),Object(l.jsx)("div",{children:n.closedDate&&On(n.closedDate)})]}),Object(l.jsxs)("td",{className:"table-actions",children:[n.statusId!==p&&Object(l.jsx)("button",{className:"btn",onClick:function(){return r({action:"ViewAction",payload:n})},children:"View Actions"}),n.statusId===p&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return r({action:"Assign",payload:n})},children:"Assign To Concerned Personnel"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return r({action:"Edit",payload:n})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return r({action:"Delete",payload:n.id})},children:"Delete"})]})]})]})}function En(){var e=Object(c.useContext)(Xn),t=Object(c.useContext)(Qn);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{style:{width:"8%"},children:"Time Entry"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Ticket Number"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Classification"}),Object(l.jsx)("th",{style:{width:"15%"},children:"Caller"}),Object(l.jsx)("th",{style:{width:"8%"},children:"Status"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Concern"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(An,{concern:e},e.id)}))})]})}n(113);function In(e){var t=e.title,n=e.name,c=(e.id,e.className,e.value),r=e.readonly,a=e.onChange,i=void 0===c?void 0:"".concat(c.getFullYear(),"-").concat((c.getMonth()+1).toString().padStart(2,"0"),"-").concat(c.getDate().toString().padStart(2,"0"),"T").concat(c.getHours().toString().padStart(2,"0"),":").concat(c.getMinutes().toString().padStart(2,"0"));return Object(l.jsxs)("div",{className:"custom-input",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)("div",{className:"datepicker-container",children:r?Object(l.jsx)("span",{children:null===c||void 0===c?void 0:c.toLocaleDateString()}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("input",{type:"datetime-local",className:"custom-datepicker",value:i,onChange:function(e){var t;null===a||void 0===a||a({elementName:null!==n&&void 0!==n?n:"",value:""===(null!==(t=e.target.value)&&void 0!==t?t:"")?void 0:new Date(e.target.value)})}})})})]})}function Pn(e){var t=e.title,n=e.onClose,r=e.concern,a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)([]),f=Object(s.a)(j,2),b=f[0],p=f[1],h=Object(c.useState)(),v=Object(s.a)(h,2),O=v[0],x=v[1],m=Object(c.useState)(),y=Object(s.a)(m,2),w=y[0],g=y[1],k=Object(c.useState)(),C=Object(s.a)(k,2),N=C[0],S=C[1],D=V(),A=Y();function E(){return(E=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return e.next=4,I();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return P.apply(this,arguments)}function P(){return(P=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,xt().then((function(e){void 0!==e&&u((function(){return e.map((function(e){return{key:e.id.toString(),value:e.name}}))}))})).catch((function(e){A({message:e.message})})).finally((function(){return D(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return F.apply(this,arguments)}function F(){return(F=Object(H.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,yt(null!==(t=null===r||void 0===r?void 0:r.classificationId)&&void 0!==t?t:0).then((function(e){void 0!==e&&p((function(){return e.map((function(e){return{key:e.id.toString(),value:e.name}}))}))})).catch((function(e){A({message:e.message})})).finally((function(){return D(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){var t=e.elementName,n=e.value,c=e.text;return S(c),"personnel"===t?(x(+n),void g(void 0)):"available-personnel"===t?(g(+n),void x(void 0)):void 0}function M(){return(M=Object(H.a)(X.a.mark((function e(){var t,c,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),0!==(null!==(t=null!==O&&void 0!==O?O:w)&&void 0!==t?t:0)){e.next=4;break}return A({message:"Select Personnel"}),e.abrupt("return");case 4:return e.next=6,Sn(null!==(c=null===r||void 0===r?void 0:r.id)&&void 0!==c?c:0,null!==(a=null!==O&&void 0!==O?O:w)&&void 0!==a?a:0).then((function(e){e&&A({message:"Success",onOk:function(){n(!0,null!==N&&void 0!==N?N:"")}})})).catch((function(e){A({message:e.message})})).finally((function(){return D(!1)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){E.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return n(!1,"")},title:null!==t&&void 0!==t?t:"Assign Concern",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(Mt,{title:"Available Personnel",name:"available-personnel",hasDefault:!0,value:w,onChange:U,itemsList:b}),Object(l.jsx)(Mt,{title:"All Personnel",name:"personnel",hasDefault:!0,value:O,onChange:U,itemsList:o})]})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return M.apply(this,arguments)},className:"btn-modal btn-primary",children:"ASSIGN"})})]})}function Rn(e,t,n,c){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(H.a)(X.a.mark((function e(t,n,c,r){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="?isResolved=".concat(t,"&isForwarded=").concat(n,"&isPending=").concat(c,"&page=").concat(r),e.abrupt("return",Ye("".concat(Ee).concat(a)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(e){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye("".concat(Ie,"?concernId=").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ke(Pe,{id:t,actionTaken:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(H.a)(X.a.mark((function e(t,n,c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ke(Re,{id:t,personnelId:n,reason:c}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kn(e,t){return zn.apply(this,arguments)}function zn(){return(zn=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye("".concat(Fe,"?month=").concat(t,"&year=").concat(n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bn(e,t,n){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(H.a)(X.a.mark((function e(t,n,c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye("".concat(Ue,"?year=").concat(t,"&month=").concat(n,"&day=").concat(c)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(e){var t,n=e.action;return Object(l.jsxs)("div",{className:"concern-action",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:n.prevPersonnelConcernId?"Forwarded":"Assigned"}),Object(l.jsx)("span",{children:n.prevPersonnelConcernId?"":" By ".concat(n.creator)}),Object(l.jsxs)("span",{children:["\xa0 at (",n.receivedDate&&On(n.receivedDate),")"]}),"\xa0 to"]}),Object(l.jsx)("div",{children:null===(t=n.personnel)||void 0===t?void 0:t.name}),Object(l.jsx)("div",{children:"Status"}),Object(l.jsxs)("div",{children:[n.status,n.closedDate&&Object(l.jsxs)("span",{children:[" (",On(n.closedDate),")"]})]}),n.statusId!==h&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[n.statusId===O?"Reason":"Action Taken",":"]}),Object(l.jsx)("div",{children:n.action})]})]})}function Wn(e){var t=e.concern,n=e.onClose,r=Object(c.useState)([]),a=Object(s.a)(r,2),i=a[0],o=a[1],u=V(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return p.apply(this,arguments)}function p(){return(p=Object(H.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Un(null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:0).then((function(e){void 0!==e&&o(e)})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(l.jsx)(d,{title:"Concern Actions",onClose:n,children:Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("div",{className:"concern-actions",children:i.map((function(e){return Object(l.jsx)(qn,{action:e},e.id)}))})})})}function Gn(e){var t=e.title,n=e.name,c=e.id,r=e.className,a=e.value,i=e.readonly,s=e.onChange,o=e.lineCount;return Object(l.jsxs)("div",{className:"custom-input no-height",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)("div",{className:"input-container",children:i?Object(l.jsx)("span",{children:a}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("textarea",{rows:o,name:n,id:c,value:a,className:r,onChange:function(e){return null===s||void 0===s?void 0:s({elementName:null!==n&&void 0!==n?n:"",value:e.target.value})}})})})]})}function Hn(e){var t,n=e.selectedConcern,r=e.onClose,a=T(),i=Object(c.useState)((function(){var e,t;return null!==n&&void 0!==n?n:{id:0,caller:null===a||void 0===a||null===(e=a.personnel)||void 0===e?void 0:e.name,description:"",classificationId:void 0,officeId:null===a||void 0===a||null===(t=a.personnel)||void 0===t?void 0:t.officeId}})),o=Object(s.a)(i,2),u=o[0],j=o[1],f=Object(c.useState)((function(){return[]})),b=Object(s.a)(f,2),p=b[0],h=b[1],v=Object(c.useState)(),O=Object(s.a)(v,2),x=O[0],m=O[1],y=Object(c.useState)(),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],D=N[1],A=V(),E=Y();function I(){return(I=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return R.apply(this,arguments)}function R(){return(R=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,sn().then((function(e){void 0!==e&&h((function(){return e.map((function(e){return{key:e.id.toString(),value:e.description}}))}))})).catch((function(e){E({message:e.message})})).finally((function(){return A(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),0!==u.id){e.next=6;break}return e.next=4,yn(u,null!==x&&void 0!==x?x:g).then((function(){E({message:"New Concern Added",onOk:function(){r(!0,null!==S&&void 0!==S?S:"")}})})).catch((function(e){E({message:e.message})})).finally((function(){return A(!1)}));case 4:e.next=8;break;case 6:return e.next=8,gn(u).then((function(){E({message:"Concern Updated",onOk:function(){r(!0,null!==S&&void 0!==S?S:"")}})})).catch((function(e){E({message:e.message})})).finally((function(){return A(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return M.apply(this,arguments)}function M(){return(M=Object(H.a)(X.a.mark((function e(t){var n,c,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.elementName,c=t.value,r=t.text,"personnel"!==n){e.next=6;break}return m(+c),k(void 0),D(r),e.abrupt("return");case 6:if("available-personnel"!==n){e.next=11;break}return k(+c),m(void 0),D(r),e.abrupt("return");case 11:j((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(W.a)({},n,c))}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return r(!1,"")},title:(null!==(t=null===u||void 0===u?void 0:u.id)&&void 0!==t?t:0)>0?"Update Concern ".concat(u.number):"New Concern",className:"management-modal",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)(Mt,{title:"Classification",name:"classificationId",hasDefault:!0,value:null===u||void 0===u?void 0:u.classificationId,onChange:U,itemsList:p})}),Object(l.jsx)("div",{children:Object(l.jsx)(bt,{title:"Caller",name:"caller",value:null===u||void 0===u?void 0:u.caller,onChange:U})})]}),Object(l.jsx)("div",{children:Object(l.jsx)(Gn,{title:"Description",name:"description",lineCount:7,value:null===u||void 0===u?void 0:u.description,onChange:U})})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return F.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var Qn=Object(c.createContext)([]),Xn=Object(c.createContext)((function(){}));function Zn(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),i=Object(s.a)(a,2),o=i[0],u=i[1],d=T(),j=Object(c.useState)(1),b=Object(s.a)(j,2),p=b[0],h=b[1],v=Object(c.useState)((function(){return[]})),O=Object(s.a)(v,2),x=O[0],m=O[1],y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(!1),N=Object(s.a)(C,2),S=N[0],D=N[1],A=Object(c.useState)(!1),E=Object(s.a)(A,2),I=E[0],P=E[1],R=Object(c.useState)(),F=Object(s.a)(R,2),U=F[0],M=F[1],L=Object(c.useRef)(!0),K=Object(c.useRef)(!1),z=V(),J=Y(),q=Object(c.useState)(),Q=Object(s.a)(q,2),Z=Q[0],$=Q[1],_=Object(c.useState)((function(){return[]})),ee=Object(s.a)(_,2),te=ee[0],ne=ee[1],ce=Object(c.useState)((function(){return{classification:void 0,startDate:void 0,endDate:void 0}})),re=Object(s.a)(ce,2),ae=re[0],ie=re[1];function se(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!1),D(!1),!t){e.next=12;break}return console.log(null===Z||void 0===Z?void 0:Z.state),e.next=6,je();case 6:return e.next=8,null===Z||void 0===Z?void 0:Z.invoke("NewConcern");case 8:if(""===(null!==n&&void 0!==n?n:"")){e.next=11;break}return e.next=11,null===Z||void 0===Z?void 0:Z.invoke("NewTicket",n);case 11:be();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Notification"in window?Notification.requestPermission():console.log("This browser does not support desktop notification"),e.next=3,ve();case 3:return e.next=5,le();case 5:return e.next=7,be();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return de.apply(this,arguments)}function de(){return(de=Object(H.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==Z){e.next=14;break}return(t=(new cn.a).withUrl(f+Me).configureLogging(rn.a.Information).build()).on("NewConcern",(function(){new Notification("New Concern Added"),be()})),t.on("ResolveConcern",(function(e){new Notification("Ticket ".concat(e," Resolved")),be()})),e.next=7,t.start();case 7:if(t.state!==an.b.Connected){e.next=11;break}return e.next=10,t.invoke("JoinConcernCreators");case 10:console.log(t.state);case 11:$(t),e.next=16;break;case 14:return e.next=16,je();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),J({message:e.t0});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function je(){return fe.apply(this,arguments)}function fe(){return(fe=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===Z||void 0===Z?void 0:Z.state)!==an.b.Disconnected){e.next=3;break}return e.next=3,null===Z||void 0===Z?void 0:Z.start();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return pe.apply(this,arguments)}function pe(){return(pe=Object(H.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(!0),xn(n,p,L.current,K.current,ae.startDate,ae.endDate,null===d||void 0===d||null===(t=d.personnel)||void 0===t?void 0:t.officeId,ae.classification).then((function(e){void 0!==e&&(m(e.results),u(e.pageCount))})).catch((function(e){J({message:e.message})})).finally((function(){return z(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,Cn(t).then((function(){J({message:"Concern Deleted",onOk:function(){be()}})})).catch((function(e){J({message:e.message})})).finally((function(){return z(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,sn().then((function(e){void 0!==e&&ne((function(){return[{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.description}}))))}))})).catch((function(e){J({message:e.message})})).finally((function(){return z(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return me.apply(this,arguments)}function me(){return(me=Object(H.a)(X.a.mark((function e(t){var n,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.elementName,c=t.value,ie((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(W.a)({},n,c))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){be()}),[p,n]),Object(c.useEffect)((function(){!function(){ue.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){je()}),[null===Z||void 0===Z?void 0:Z.state]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Concerns"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(vt,{search:function(e){r((function(){return e})),h((function(){return 1}))}})}),Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"filter-container",children:[Object(l.jsx)(In,{title:"Start Date",name:"startDate",value:ae.startDate,onChange:xe}),Object(l.jsx)(In,{title:"End Date",name:"endDate",value:ae.endDate,onChange:xe}),Object(l.jsx)(Mt,{title:"Classification",name:"classification",value:ae.classification,onChange:xe,itemsList:te})]})}),Object(l.jsxs)("section",{className:"head-content",children:[Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(Yt,{text:"Assigned",id:"assigned",checkChange:function(){L.current=!L.current,be()},isCheck:L.current}),Object(l.jsx)(Yt,{text:"Closed",id:"closed",checkChange:function(){K.current=!K.current,be()},isCheck:K.current})]}),Object(l.jsx)(ht,{pages:o,currentPageNumber:p,goInPage:function(e){h((function(){return e}))}})]}),Object(l.jsx)("section",{className:"table-container",children:Object(l.jsx)(Qn.Provider,{value:x,children:Object(l.jsx)(Xn.Provider,{value:function(e){switch(e.action){case"Add":M((function(){})),k((function(){return!0}));break;case"ViewAction":M(e.payload),P(!0);break;case"Assign":M(e.payload),D(!0);break;case"Edit":M(e.payload),k(!0);break;case"Delete":J({message:"Are you sure you want to delete this?",action:"YESNO",onOk:function(){!function(e){he.apply(this,arguments)}(e.payload)}});break;default:J({message:"Invalid Action"})}},children:Object(l.jsx)(En,{})})})}),Object(l.jsxs)(l.Fragment,{children:[g&&Object(l.jsx)(Hn,{onClose:se,selectedConcern:U}),S&&Object(l.jsx)(Pn,{onClose:se,concern:U}),I&&Object(l.jsx)(Wn,{concern:U,onClose:function(){return P(!1)}})]})]})}function $n(e){var t,n,r,a,i,o,u=e.onClose,j=T(),f=K(),b=Object(c.useState)((function(){var e;return{username:null!==(e=null===j||void 0===j?void 0:j.username)&&void 0!==e?e:"",personnel:null===j||void 0===j?void 0:j.personnel,isAvailable:null===j||void 0===j?void 0:j.isAvailable,password:"",newPassword:"",confirmNewPassword:""}})),p=Object(s.a)(b,2),h=p[0],v=p[1],O=V(),x=Y();function m(){return(m=Object(H.a)(X.a.mark((function e(){var t,n,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(null!==(t=h.password)&&void 0!==t?t:"")){e.next=5;break}if(""===(null!==(n=h.newPassword)&&void 0!==n?n:"")||""===(null!==(c=h.confirmNewPassword)&&void 0!==c?c:"")){e.next=5;break}if(h.newPassword===h.confirmNewPassword){e.next=5;break}return x({message:"Password not match"}),e.abrupt("return");case 5:return O(!0),e.next=8,jt(h).then((function(){x({message:"Profile Updated",onOk:function(){S(Object(G.a)(Object(G.a)({},j),{},{username:h.username,isAvailable:h.isAvailable})),f(Object(G.a)(Object(G.a)({},j),{},{username:h.username,isAvailable:h.isAvailable})),u()}})})).catch((function(e){x({message:e.message})})).finally((function(){return O(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,jt({isAvailable:t}).then((function(){x({message:"Profile Updated",onOk:function(){S(Object(G.a)(Object(G.a)({},j),{},{isAvailable:t})),f(Object(G.a)(Object(G.a)({},j),{},{isAvailable:t}))}})})).catch((function(e){x({message:e.message})})).finally((function(){return O(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.elementName,n=e.value;v((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(W.a)({},t,n))})),"isAvailable"===t&&function(e){y.apply(this,arguments)}(n)}return Object(l.jsxs)(d,{className:"profile-modal",onClose:u,title:"Users Profile",children:[Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(bt,{title:"Name",readonly:!0,value:null===h||void 0===h||null===(t=h.personnel)||void 0===t?void 0:t.name}),Object(l.jsx)(bt,{title:"Office",readonly:!0,value:null===h||void 0===h||null===(n=h.personnel)||void 0===n||null===(r=n.office)||void 0===r?void 0:r.description}),Object(l.jsx)(bt,{title:"Office",readonly:!0,value:null===h||void 0===h||null===(a=h.personnel)||void 0===a||null===(i=a.personnelClassification)||void 0===i?void 0:i.map((function(e){var t;return null===(t=e.classification)||void 0===t?void 0:t.description})).join(" | ")}),Object(l.jsx)(Ut,{title:null!==h&&void 0!==h&&h.isAvailable?"Available":"Unavailable",name:"isAvailable",isCheck:null!==(o=null===h||void 0===h?void 0:h.isAvailable)&&void 0!==o&&o,onChange:w}),Object(l.jsx)(bt,{title:"Username",name:"username",value:null===h||void 0===h?void 0:h.username,onChange:w}),Object(l.jsx)(bt,{title:"Old Password",name:"password",value:null===h||void 0===h?void 0:h.password,type:"password",onChange:w}),Object(l.jsx)(bt,{title:"New Password",name:"newPassword",type:"password",value:null===h||void 0===h?void 0:h.newPassword,onChange:w}),Object(l.jsx)(bt,{title:"Confirm New Password",name:"confirmNewPassword",type:"password",value:null===h||void 0===h?void 0:h.confirmNewPassword,onChange:w})]})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return m.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}function _n(e){var t=e.role,n=Object(c.useContext)(nc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"View",payload:t})},children:"View"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Edit",payload:t})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Delete",payload:t.id})},children:"Delete"})]})]})}function ec(){var e=Object(c.useContext)(nc),t=Object(c.useContext)(tc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Description"})}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Role"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(_n,{role:e},e.id)}))})]})}var tc=Object(c.createContext)([]),nc=Object(c.createContext)((function(){}));function cc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),h=Object(s.a)(p,2),v=h[0],O=h[1],x=V(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],D=N[1],A=Object(c.useState)(!1),E=Object(s.a)(A,2),I=E[0],P=E[1];function R(e){var t=e.searchKey,c=e.page;x(!0),function(e,t){return Et.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:v).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){R({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Roles"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(vt,{search:function(e){r(e),R({searchKey:e,page:1})}})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{pages:f,currentPageNumber:v,goInPage:function(e){R({page:e})}})}),Object(l.jsx)("section",{className:"table-container",children:Object(l.jsx)(tc.Provider,{value:o,children:Object(l.jsx)(nc.Provider,{value:function(e){switch(e.action){case"View":k(!0),D(e.payload),P(!0);break;case"Add":k(!0),D(void 0),P(!1);break;case"Edit":k(!0),D(e.payload),P(!1)}},children:Object(l.jsx)(ec,{})})})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(Jt,{onClose:function(e){k(!1),e&&R({})},selectedRole:S,viewOnly:I})})]})}function rc(e){var t,n,r,a,i=e.concern,s=Object(c.useContext)(uc);return Object(l.jsxs)("tr",{title:null!==i&&void 0!==i&&i.action?(null!==(t=null===i||void 0===i?void 0:i.statusId)&&void 0!==t?t:0)===v?"Action Taken: ".concat(i.action):"Reason: ".concat(i.action):void 0,children:[Object(l.jsx)("td",{children:On(i.receivedDate)}),Object(l.jsx)("td",{children:i.concern.number}),Object(l.jsxs)("td",{children:[Object(l.jsx)("div",{children:i.concern.description}),i.prevPersonnelConcernId&&Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"Forward Reason: "}),null===(n=i.prevPersonnelConcern)||void 0===n?void 0:n.action]})]}),Object(l.jsx)("td",{children:null===(r=i.concern.classification)||void 0===r?void 0:r.description}),Object(l.jsx)("td",{children:null===(a=i.concern.office)||void 0===a?void 0:a.description}),Object(l.jsx)("td",{children:i.concern.caller}),Object(l.jsxs)("td",{children:[Object(l.jsx)("div",{children:i.status}),Object(l.jsx)("div",{children:i.closedDate&&Object(l.jsxs)("span",{children:[" (",On(i.closedDate),")"]})})]}),Object(l.jsx)("td",{className:"table-actions",children:i.statusId===h&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"btn",onClick:function(){s({action:"Resolve",payload:i})},children:"Resolve"}),Object(l.jsx)("button",{className:"btn",onClick:function(){s({action:"Forward",payload:i})},children:"Forward"})]})})]})}function ac(){var e=Object(c.useContext)(oc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{style:{width:"8%"},children:"Received Date"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Ticket Number"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Classification"}),Object(l.jsx)("th",{style:{width:"20%"},children:"Concern Office"}),Object(l.jsx)("th",{style:{width:"15%"},children:"Caller"}),Object(l.jsx)("th",{style:{width:"8%"},children:"Status"})]})}),Object(l.jsx)("tbody",{children:e.map((function(e){return Object(l.jsx)(rc,{concern:e},e.id)}))})]})}function ic(e){var t=e.onClose,n=e.personnelConcern,r=Object(c.useState)(""),a=Object(s.a)(r,2),i=a[0],o=a[1],u=Object(c.useState)([]),j=Object(s.a)(u,2),f=j[0],b=j[1],p=Object(c.useState)([]),h=Object(s.a)(p,2),v=h[0],O=h[1],x=Object(c.useState)(),m=Object(s.a)(x,2),y=m[0],w=m[1],g=Object(c.useState)(),k=Object(s.a)(g,2),C=k[0],N=k[1],S=Object(c.useState)(),D=Object(s.a)(S,2),A=D[0],E=D[1],I=V(),P=Y(),R=T();function F(){return(F=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return e.next=4,U();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return M.apply(this,arguments)}function M(){return(M=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,xt().then((function(e){void 0!==e&&b(Object(B.a)(e.filter((function(e){var t;return e.id!==(null===R||void 0===R||null===(t=R.personnel)||void 0===t?void 0:t.id)})).map((function(e){return{key:e.id.toString(),value:e.name}}))))})).catch((function(e){P({message:e.message})})).finally((function(){return I(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return K.apply(this,arguments)}function K(){return(K=Object(H.a)(X.a.mark((function e(){var t,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,yt(null!==(t=null===n||void 0===n||null===(c=n.concern)||void 0===c?void 0:c.classificationId)&&void 0!==t?t:0).then((function(e){void 0!==e&&O([{key:"",value:""}].concat(Object(B.a)(e.filter((function(e){var t;return e.id!==(null===R||void 0===R||null===(t=R.personnel)||void 0===t?void 0:t.id)})).map((function(e){return{key:e.id.toString(),value:e.name}})))))})).catch((function(e){P({message:e.message})})).finally((function(){return I(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){var t=e.elementName,n=e.value,c=e.text;return E(c),"personnel"===t?(w(+n),void N(void 0)):"available-personnel"===t?(N(+n),void w(void 0)):void 0}function J(){return(J=Object(H.a)(X.a.mark((function e(){var c,r,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(!0),0!==(null!==(c=null!==y&&void 0!==y?y:C)&&void 0!==c?c:0)){e.next=4;break}return P({message:"Select Personnel"}),e.abrupt("return");case 4:return e.next=6,Yn(null!==(r=null===n||void 0===n?void 0:n.id)&&void 0!==r?r:0,null!==(a=null!==y&&void 0!==y?y:C)&&void 0!==a?a:0,i).then((function(e){e&&P({message:"Success",onOk:function(){t(!0,null!==A&&void 0!==A?A:"")}})})).catch((function(e){P({message:e.message})})).finally((function(){return I(!1)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){F.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){t(!1,"")},title:"Forward Concern",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(Gn,{title:"Reason",lineCount:5,onChange:function(e){o(e.value)}}),Object(l.jsx)(Mt,{title:"Available Personnel",name:"available-personnel",hasDefault:!0,value:C,onChange:z,itemsList:v}),Object(l.jsx)(Mt,{title:"All Personnel",name:"personnel",hasDefault:!0,value:y,onChange:z,itemsList:f})]})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return J.apply(this,arguments)},className:"btn-modal btn-primary",children:"FORWARD"})})]})}function sc(e){var t=e.personnelConcern,n=e.onClose,r=Object(c.useState)(""),a=Object(s.a)(r,2),i=a[0],o=a[1],u=V(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Tn(null!==(c=null===t||void 0===t?void 0:t.id)&&void 0!==c?c:0,i).then((function(e){e&&j({message:"Success",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)(d,{onClose:function(){n(!1)},title:"Resolve Concern",children:[Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("div",{children:Object(l.jsx)(Gn,{title:"Action Taken",lineCount:5,onChange:function(e){o(e.value)}})})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return f.apply(this,arguments)},className:"btn-modal btn-primary",children:"RESOLVE"})})]})}var oc=Object(c.createContext)([]),uc=Object(c.createContext)((function(){}));function lc(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(!1),j=Object(s.a)(d,2),b=j[0],p=j[1],h=Object(c.useState)(!1),v=Object(s.a)(h,2),O=v[0],x=v[1],m=Object(c.useState)(!0),y=Object(s.a)(m,2),w=y[0],g=y[1],k=Object(c.useState)(!1),C=Object(s.a)(k,2),N=C[0],S=C[1],D=Object(c.useState)(!1),A=Object(s.a)(D,2),E=A[0],I=A[1],P=Object(c.useState)(1),R=Object(s.a)(P,2),F=R[0],U=R[1],M=Object(c.useState)(0),L=Object(s.a)(M,2),K=L[0],z=L[1],B=T(),J=Y(),q=V(),W=Object(c.useState)(),G=Object(s.a)(W,2),Q=G[0],Z=G[1];function $(){return($=Object(H.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==Q){e.next=13;break}return(n=(new cn.a).withUrl(f+Me).build()).on("NewTicket",(function(){new Notification("New Ticket Assigned"),ne({})})),n.on("ForwardTicket",(function(e){new Notification("New Ticket Forwarded by ".concat(e)),ne({})})),e.next=7,n.start();case 7:if(n.state!==an.b.Connected){e.next=10;break}return e.next=10,n.invoke("JoinTicket",null===B||void 0===B||null===(t=B.personnel)||void 0===t?void 0:t.name);case 10:Z(n),e.next=15;break;case 13:return e.next=15,_();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),J({message:e.t0});case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function _(){return ee.apply(this,arguments)}function ee(){return(ee=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===Q||void 0===Q?void 0:Q.state)!==an.b.Disconnected){e.next=3;break}return e.next=3,null===Q||void 0===Q?void 0:Q.start();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.action,e.next="Resolve"===e.t0?3:"Forward"===e.t0?6:9;break;case 3:return u(t.payload),p(!0),e.abrupt("break",11);case 6:return u(t.payload),x(!0),e.abrupt("break",11);case 9:return J({message:"Invalid Action"}),e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(H.a)(X.a.mark((function e(t){var n,c,a,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,c=t.isResolved,a=t.isForwarded,i=t.isPending,q(!0),e.next=4,Rn(null!==c&&void 0!==c?c:N,null!==a&&void 0!==a?a:E,null!==i&&void 0!==i?i:w,null!==n&&void 0!==n?n:F).then((function(e){void 0!==e&&(r(e.results),z(e.pageCount))})).catch((function(e){J({message:e.message})})).finally((function(){return q(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!1),!t){e.next=7;break}return ne({}),e.next=5,_();case 5:return e.next=7,null===Q||void 0===Q?void 0:Q.invoke("ForwardTicket",null===B||void 0===B||null===(c=B.personnel)||void 0===c?void 0:c.name,n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!1),!t){e.next=7;break}return e.next=4,_();case 4:return e.next=6,null===Q||void 0===Q?void 0:Q.invoke("Resolve",null===o||void 0===o?void 0:o.concern.number);case 6:ne({});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){"Notification"in window?Notification.requestPermission():console.log("This browser does not support desktop notification"),function(){$.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){ne({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Tickets"})})}),Object(l.jsxs)("section",{className:"head-content",children:[Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(Yt,{text:"Pending",id:"pending",checkChange:function(){var e=!w;g(e),ne({isPending:e})},isCheck:w}),Object(l.jsx)(Yt,{text:"Resolved",id:"resolved",checkChange:function(){var e=!N;S(e),ne({isResolved:e})},isCheck:N}),Object(l.jsx)(Yt,{text:"Forwarded",id:"forwarded",checkChange:function(){var e=!E;I(e),ne({isForwarded:e})},isCheck:E})]}),Object(l.jsx)(ht,{pages:K,currentPageNumber:F,goInPage:function(e){U(e),ne({page:e})}})]}),Object(l.jsx)("section",{className:"table-container",children:Object(l.jsx)(oc.Provider,{value:n,children:Object(l.jsx)(uc.Provider,{value:function(e){return te.apply(this,arguments)},children:Object(l.jsx)(ac,{})})})}),Object(l.jsxs)(l.Fragment,{children:[b&&Object(l.jsx)(sc,{onClose:function(e){return ae.apply(this,arguments)},personnelConcern:o}),O&&Object(l.jsx)(ic,{onClose:function(e,t){return re.apply(this,arguments)},personnelConcern:o})]})]})}function dc(e){var t=e.classification,n=Object(c.useContext)(pc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Edit",payload:t})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Delete",payload:t.id})},children:"Delete"})]})]})}function jc(){var e=Object(c.useContext)(pc),t=Object(c.useContext)(bc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Description"})}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Classification"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(dc,{classification:e},e.id)}))})]})}function fc(e){var t=e.selectedClassification,n=e.onClose,r=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,description:""}})),a=Object(s.a)(r,2),i=a[0],o=a[1],u=V(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),0!==i.id){e.next=6;break}return e.next=4,ln(i).then((function(){j({message:"Classification Added",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 4:e.next=8;break;case 6:return e.next=8,jn(i).then((function(){j({message:"Classification Updated",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)(d,{onClose:function(){n(!1)},title:null!==t&&void 0!==t&&t.id?"Update Classificaiton":"Add New Classificaiton",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:Object(l.jsx)(bt,{title:"Description",name:"description",value:i.description,onChange:function(e){o((function(t){return Object(G.a)(Object(G.a)({},t),{},Object(W.a)({},e.elementName,e.value))}))}})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return f.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var bc=Object(c.createContext)([]),pc=Object(c.createContext)((function(){}));function hc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),h=Object(s.a)(p,2),v=h[0],O=h[1],x=V(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],D=N[1];function A(e){var t=e.searchKey,c=e.page;x(!0),function(e,t){return un.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:v).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){A({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Classifications"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(vt,{search:function(e){r(e),A({searchKey:e,page:1})}})}),Object(l.jsx)(ht,{pages:f,currentPageNumber:v,goInPage:function(e){A({page:e})}}),Object(l.jsx)("section",{className:"table-container",children:Object(l.jsx)(bc.Provider,{value:o,children:Object(l.jsx)(pc.Provider,{value:function(e){switch(e.action){case"Add":k(!0),D(void 0);break;case"Edit":k(!0),D(e.payload)}},children:Object(l.jsx)(jc,{})})})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(fc,{onClose:function(e){k(!1),e&&A({})},selectedClassification:S})})]})}function vc(e){var t,n,r=e.personnel,a=Object(c.useContext)(Dc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:r.name}),Object(l.jsx)("td",{children:r.number}),Object(l.jsx)("td",{children:null===(t=r.office)||void 0===t?void 0:t.description}),Object(l.jsx)("td",{children:null===r||void 0===r||null===(n=r.personnelClassification)||void 0===n?void 0:n.map((function(e){var t;return null===(t=e.classification)||void 0===t?void 0:t.description})).join(" | ")}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Edit",payload:r})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Delete",payload:r.id})},children:"Delete"})]})]})}function Oc(){var e=Object(c.useContext)(Dc),t=Object(c.useContext)(Sc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Mobile Number"}),Object(l.jsx)("th",{children:"Office"}),Object(l.jsx)("th",{children:"Classification"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Personnel"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(vc,{personnel:e},e.id)}))})]})}function xc(){return mc.apply(this,arguments)}function mc(){return(mc=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(ye);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(){return(yc=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(we+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e){return gc.apply(this,arguments)}function gc(){return(gc=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ke(ge,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kc(e){return Cc.apply(this,arguments)}function Cc(){return(Cc=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be("".concat(ke,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e){var t=e.selectedPersonnel,n=e.onClose,r=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,classificationId:void 0,officeId:void 0,name:"",number:""}})),a=Object(s.a)(r,2),i=a[0],j=a[1],f=Object(c.useState)([]),b=Object(s.a)(f,2),p=b[0],h=b[1],v=Object(c.useState)([]),O=Object(s.a)(v,2),x=O[0],m=O[1],y=Object(c.useState)((function(){var e;return null!==(e=null===i||void 0===i?void 0:i.personnelClassification)&&void 0!==e?e:[]})),w=Object(s.a)(y,2),g=w[0],k=w[1],C=V(),N=Y();function S(){return(S=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return e.next=4,E();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return A.apply(this,arguments)}function A(){return(A=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,sn().then((function(e){void 0!==e&&h((function(){return e.map((function(e){return{key:e.id.toString(),value:e.description}}))}))})).catch((function(e){N({message:e.message})})).finally((function(){return C(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return I.apply(this,arguments)}function I(){return(I=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,xc().then((function(e){void 0!==e&&m((function(){return e.map((function(e){return{key:e.id.toString(),value:e.description}}))}))})).catch((function(e){N({message:e.message})})).finally((function(){return C(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),0!==i.id){e.next=6;break}return e.next=4,kt(i,g.map((function(e){return e.classificationId}))).then((function(){N({message:"Personnel Added",onOk:function(){n(!0)}})})).catch((function(e){N({message:e.message})})).finally((function(){return C(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Nt(i,g.filter((function(e){return 0===e.id})).map((function(e){return e.classificationId})),g.filter((function(e){return e.deleted})).map((function(e){return e.id}))).then((function(){N({message:"Personnel Updated",onOk:function(){n(!0)}})})).catch((function(e){N({message:e.message})})).finally((function(){return C(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t=e.value,n=e.elementName,c=e.text;if("classification"===n){if(console.log(t),void 0===t)return;return k((function(e){return[].concat(Object(B.a)(e),[{id:0,classificationId:+t,classificationDesc:c,personnelId:i.id}])})),void h((function(e){return e.filter((function(e){return e.key!==t}))}))}j((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(W.a)({},n,t))}))}return Object(c.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){n(!1)},title:null!==t&&void 0!==t&&t.id?"Update Personnel":"Add New Personnel",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsx)(bt,{title:"Name",name:"name",value:i.name,onChange:R}),Object(l.jsx)(bt,{title:"Mobile Number",name:"number",type:"tel",value:i.number,onChange:R}),Object(l.jsx)(Mt,{title:"Office",name:"officeId",hasDefault:!0,value:null===i||void 0===i?void 0:i.officeId,onChange:R,itemsList:x}),Object(l.jsx)("div",{children:Object(l.jsx)(Mt,{title:"Classifications",name:"classification",hasDefault:!0,onChange:R,itemsList:p})}),Object(l.jsx)("div",{className:"table-container",children:Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"User Roles"})})}),Object(l.jsx)("tbody",{children:null===g||void 0===g?void 0:g.map((function(e){var t,n;return Object(l.jsxs)("tr",{className:e.deleted?"deleted":"",children:[Object(l.jsx)("td",{children:null!==(t=e.classificationDesc)&&void 0!==t?t:null===(n=e.classification)||void 0===n?void 0:n.description}),Object(l.jsxs)("td",{className:"table-actions",children:[e.deleted&&Object(l.jsx)(u.a,{icon:o.l,className:"action-icon table-icon-button",onClick:function(){!function(e){k((function(t){return t.map((function(t){return t.classificationId===e.classificationId&&(t.deleted=!1),t}))}))}(e)},title:"Undo"}),!e.deleted&&Object(l.jsx)(u.a,{icon:o.k,className:"action-icon table-icon-button",onClick:function(){!function(e){var t,n,c,r,a;k((function(t){return 0===e.id?t.filter((function(t){return t.classificationId!==e.classificationId})):t.map((function(t){return t.classificationId===e.classificationId&&(t.deleted=!0),t}))})),0===e.id&&h([].concat(Object(B.a)(p),[{key:null!==(t=null===(n=e.classificationId)||void 0===n?void 0:n.toString())&&void 0!==t?t:"",value:null!==(c=null!==(r=e.classificationDesc)&&void 0!==r?r:null===(a=e.classification)||void 0===a?void 0:a.description)&&void 0!==c?c:""}]))}(e)},title:"Delete"})]})]},e.classificationId)}))})]})})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return P.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var Sc=Object(c.createContext)([]),Dc=Object(c.createContext)((function(){}));function Ac(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),h=Object(s.a)(p,2),v=h[0],O=h[1],x=V(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],D=N[1];function A(e){var t=e.searchKey,c=e.page;x(!0),function(e,t){return gt.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:v).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){A({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Personnels"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(vt,{search:function(e){r(e),A({searchKey:e,page:1})}})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{pages:f,currentPageNumber:v,goInPage:function(e){A({page:e})}})}),Object(l.jsx)("section",{className:"table-container",children:Object(l.jsx)(Sc.Provider,{value:o,children:Object(l.jsx)(Dc.Provider,{value:function(e){switch(e.action){case"Add":k(!0),D(void 0);break;case"Edit":k(!0),D(e.payload)}},children:Object(l.jsx)(Oc,{})})})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(Nc,{onClose:function(e){k(!1),e&&A({})},selectedPersonnel:S})})]})}function Ec(e){var t=e.office,n=Object(c.useContext)(Fc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.description}),Object(l.jsx)("td",{children:t.abbreviation}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Edit",payload:t})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Delete",payload:t.id})},children:"Delete"})]})]})}function Ic(){var e=Object(c.useContext)(Fc),t=Object(c.useContext)(Rc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Abbreviation"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Office"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(Ec,{office:e},e.id)}))})]})}function Pc(e){var t=e.selectedOffice,n=e.onClose,r=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,description:"",abbreviation:""}})),a=Object(s.a)(r,2),i=a[0],o=a[1],u=V(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),0!==i.id){e.next=6;break}return e.next=4,wc(i).then((function(){j({message:"Office Added",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 4:e.next=8;break;case 6:return e.next=8,kc(i).then((function(){j({message:"Office Updated",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){o((function(t){return Object(G.a)(Object(G.a)({},t),{},Object(W.a)({},e.elementName,e.value))}))}return Object(l.jsxs)(d,{onClose:function(){n(!1)},title:null!==t&&void 0!==t&&t.id?"Update Office":"Add New Office",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsx)(bt,{title:"Description",name:"description",value:i.description,onChange:b}),Object(l.jsx)(bt,{title:"Abbreviation",name:"abbreviation",value:i.abbreviation,onChange:b})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return f.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var Rc=Object(c.createContext)([]),Fc=Object(c.createContext)((function(){}));function Uc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),h=Object(s.a)(p,2),v=h[0],O=h[1],x=V(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],D=N[1];function A(e){var t=e.searchKey,c=e.page;x(!0),function(e,t){return yc.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:v).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){A({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Offices"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(vt,{search:function(e){r(e),A({searchKey:e,page:1})}})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{pages:f,currentPageNumber:v,goInPage:function(e){A({page:e})}})}),Object(l.jsx)("section",{className:"table-container",children:Object(l.jsx)(Rc.Provider,{value:o,children:Object(l.jsx)(Fc.Provider,{value:function(e){switch(e.action){case"Add":k(!0),D(void 0);break;case"Edit":k(!0),D(e.payload)}},children:Object(l.jsx)(Ic,{})})})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(Pc,{onClose:function(e){k(!1),e&&A({})},selectedOffice:S})})]})}function Mc(){return Object(l.jsx)("div",{})}function Tc(e){var t,n,c,r=e.concern;return Object(l.jsxs)("div",{className:"concern-action "+r.status,children:[Object(l.jsx)("div",{children:"Received Date & Time"}),Object(l.jsx)("div",{children:r.receivedDate&&On(r.receivedDate)}),Object(l.jsx)("div",{children:"Concern"}),Object(l.jsx)("div",{children:r.concern.description}),r.prevPersonnelConcernId&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:"Forwarded By"}),Object(l.jsx)("div",{children:null===(t=r.prevPersonnelConcern)||void 0===t||null===(n=t.personnel)||void 0===n?void 0:n.name}),Object(l.jsx)("div",{children:"Forwarded Reason"}),Object(l.jsx)("div",{children:null===(c=r.prevPersonnelConcern)||void 0===c?void 0:c.action})]}),Object(l.jsx)("div",{children:"Status"}),Object(l.jsxs)("div",{children:[r.status,r.closedDate&&Object(l.jsxs)("span",{children:[" (",On(r.closedDate),")"]})]}),r.statusId!==h&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[r.statusId===O?"Reason":"Action Taken",":"]}),Object(l.jsx)("div",{children:r.action})]})]})}function Lc(e){var t=e.date,n=e.onClose,r=Object(c.useState)([]),a=Object(s.a)(r,2),i=a[0],o=a[1],u=V(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return p.apply(this,arguments)}function p(){return(p=Object(H.a)(X.a.mark((function e(){var n,c,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Bn(null!==(n=null===t||void 0===t?void 0:t.getFullYear())&&void 0!==n?n:0,(null!==(c=null===t||void 0===t?void 0:t.getMonth())&&void 0!==c?c:0)+1,null!==(r=null===t||void 0===t?void 0:t.getDate())&&void 0!==r?r:0).then((function(e){void 0!==e&&o(e)})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(l.jsx)(d,{title:"Closed Concerns",className:"concern-detail",onClose:n,children:Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("div",{className:"concern-actions",children:i.map((function(e){return Object(l.jsx)(Tc,{concern:e},e.id)}))})})})}function Yc(){var e,t=Y(),n=V(),r=Object(c.useState)((function(){return new Date})),a=Object(s.a)(r,2),i=a[0],d=a[1],j=Object(c.useState)((function(){return[]})),f=Object(s.a)(j,2),b=f[0],p=f[1],h=Object(c.useState)(void 0),v=Object(s.a)(h,2),O=v[0],x=v[1],m=Object(c.useState)(!1),y=Object(s.a)(m,2),w=y[0],g=y[1];function k(){return(k=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,Kn(i.getMonth()+1,i.getFullYear()).then((function(e){var t,n=vn(i),c=hn(i),r=n.getDay(),a=n,s=(null!==(t=c.getDate())&&void 0!==t?t:0)+r+(6-c.getDay()),o=[];r>0&&(a=bn(n,-r));for(var u=0;u<s;u++){var l,d=null===e||void 0===e||null===(l=e.filter((function(e){return new Date(e.date).toDateString()===a.toDateString()})))||void 0===l?void 0:l[0];o=[].concat(Object(B.a)(o),[{date:a,summary:d}]),a=bn(a,1)}p((function(){return o}))})).catch((function(e){t({message:e.message})})).finally((function(){return n(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){k.apply(this,arguments)}()}),[i]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("div",{className:"header-text",children:"Ticket Summary"}),Object(l.jsxs)("div",{className:"date-action",children:[Object(l.jsx)(u.a,{icon:o.c,onClick:function(){return d((function(){return pn(i,-1)}))}}),Object(l.jsxs)("div",{className:"month-year",children:[Object(l.jsx)("div",{children:(e=i,(0,new Intl.DateTimeFormat("en-US",{month:"long"}).format)(e))}),Object(l.jsx)("div",{children:i.getFullYear()})]}),Object(l.jsx)(u.a,{icon:o.d,onClick:function(){return d((function(){return pn(i,1)}))},className:i.getMonth()===(new Date).getMonth()&&i.getFullYear()===(new Date).getFullYear()?"stop":""})]})]})}),Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"calendar",children:[Object(l.jsx)("div",{className:"day-header",children:"Su"}),Object(l.jsx)("div",{className:"day-header",children:"Mo"}),Object(l.jsx)("div",{className:"day-header",children:"Tu"}),Object(l.jsx)("div",{className:"day-header",children:"We"}),Object(l.jsx)("div",{className:"day-header",children:"Th"}),Object(l.jsx)("div",{className:"day-header",children:"Fr"}),Object(l.jsx)("div",{className:"day-header",children:"Sa"}),b.map((function(e,t){var n,c,r,a,s,o;return Object(l.jsxs)("div",{className:"date ".concat(e.date.getMonth()===i.getMonth()?"current-month":"non"," ").concat(e.date.toDateString()===(new Date).toDateString()?"current":""," ").concat(null!==(n=e.summary)&&void 0!==n&&n.noOfResolved||null!==(c=e.summary)&&void 0!==c&&c.noOfForwarded?"has-data":""),onClick:function(){var t,n;if(null!==(t=e.summary)&&void 0!==t&&t.noOfResolved||null!==(n=e.summary)&&void 0!==n&&n.noOfForwarded)return x(e.date),void g(!0);e.date.getMonth()<i.getMonth()||e.date.getFullYear()<i.getFullYear()?d(e.date):i.getMonth()===(new Date).getMonth()||i.getFullYear()!==(new Date).getFullYear()||(e.date.getMonth()>i.getMonth()||e.date.getFullYear()>i.getFullYear())&&d(e.date)},children:[Object(l.jsx)("div",{className:"day",children:e.date.getDate()}),Object(l.jsxs)("div",{className:"remarks",children:[!(null===(r=e.summary)||void 0===r||!r.noOfResolved)&&Object(l.jsxs)("div",{className:"resolved",children:[Object(l.jsx)("span",{className:"desktop-features",children:"RESOLVED"}),Object(l.jsx)("span",{className:"mobile-features",children:"R"}),":",Object(l.jsx)("span",{className:"count",children:null===(a=e.summary)||void 0===a?void 0:a.noOfResolved})]}),!(null===(s=e.summary)||void 0===s||!s.noOfForwarded)&&Object(l.jsxs)("div",{className:"forwarded",children:[Object(l.jsx)("span",{className:"desktop-features",children:"FORWARDED"}),Object(l.jsx)("span",{className:"mobile-features",children:"F"}),":",Object(l.jsx)("span",{className:"count",children:null===(o=e.summary)||void 0===o?void 0:o.noOfForwarded})]})]})]},t)}))]})}),Object(l.jsx)(l.Fragment,{children:w&&Object(l.jsx)(Lc,{date:O,onClose:function(){g(!1),x(void 0)}})})]})}function Vc(e){var t,n,r=e.concern,a=Object(c.useContext)(Jc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:r.entryDate&&On(r.entryDate)}),Object(l.jsx)("td",{children:r.number}),Object(l.jsx)("td",{children:r.description}),Object(l.jsx)("td",{children:null===(t=r.classification)||void 0===t?void 0:t.description}),Object(l.jsx)("td",{children:null===(n=r.office)||void 0===n?void 0:n.description}),Object(l.jsx)("td",{children:r.caller}),Object(l.jsxs)("td",{children:[Object(l.jsx)("div",{children:r.status}),Object(l.jsx)("div",{children:r.closedDate&&On(r.closedDate)})]}),Object(l.jsxs)("td",{className:"table-actions",children:[r.statusId!==p&&Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"ViewAction",payload:r})},children:"View Actions"}),r.statusId===p&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Assign",payload:r})},children:"Assign To Concerned Personnel"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Edit",payload:r})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Delete",payload:r.id})},children:"Delete"})]})]})]})}function Kc(){var e=Object(c.useContext)(Jc),t=Object(c.useContext)(Bc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{style:{width:"8%"},children:"Time Entry"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Ticket Number"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Classification"}),Object(l.jsx)("th",{style:{width:"20%"},children:"Concern Office"}),Object(l.jsx)("th",{style:{width:"15%"},children:"Caller"}),Object(l.jsx)("th",{style:{width:"8%"},children:"Status"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Concern"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(Vc,{concern:e},e.id)}))})]})}function zc(e){var t,n=e.selectedConcern,r=e.onClose,a=Object(c.useState)((function(){return null!==n&&void 0!==n?n:{id:0,caller:"",description:"",classificationId:void 0,officeId:void 0}})),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)((function(){return[]})),f=Object(s.a)(j,2),b=f[0],p=f[1],h=Object(c.useState)((function(){return[]})),v=Object(s.a)(h,2),O=v[0],x=v[1],m=Object(c.useState)([]),y=Object(s.a)(m,2),w=y[0],g=y[1],k=Object(c.useState)([]),C=Object(s.a)(k,2),N=C[0],S=C[1],D=Object(c.useState)(),A=Object(s.a)(D,2),E=A[0],I=A[1],P=Object(c.useState)(),R=Object(s.a)(P,2),F=R[0],U=R[1],M=Object(c.useState)(),T=Object(s.a)(M,2),L=T[0],K=T[1],z=V(),B=Y();function J(){return(J=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return e.next=4,te();case 4:return e.next=6,Z();case 6:return e.next=8,q();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return Q.apply(this,arguments)}function Q(){return(Q=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,xt().then((function(e){void 0!==e&&g((function(){return e.map((function(e){return{key:e.id.toString(),value:e.name}}))}))})).catch((function(e){B({message:e.message})})).finally((function(){return z(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(H.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),z(!0),e.next=4,yt(null!==(n=null!==t&&void 0!==t?t:null===o||void 0===o?void 0:o.classificationId)&&void 0!==n?n:0).then((function(e){void 0!==e&&(U(void 0),S((function(){return e.map((function(e){return{key:e.id.toString(),value:e.name}}))})))})).catch((function(e){B({message:e.message})})).finally((function(){return z(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return ee.apply(this,arguments)}function ee(){return(ee=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,sn().then((function(e){void 0!==e&&p((function(){return e.map((function(e){return{key:e.id.toString(),value:e.description}}))}))})).catch((function(e){B({message:e.message})})).finally((function(){return z(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,xc().then((function(e){void 0!==e&&x((function(){return e.map((function(e){return{key:e.id.toString(),value:e.description}}))}))})).catch((function(e){B({message:e.message})})).finally((function(){return z(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!0),0!==o.id){e.next=6;break}return e.next=4,yn(o,null!==E&&void 0!==E?E:F).then((function(){B({message:"New Concern Added",onOk:function(){r(!0,null!==L&&void 0!==L?L:"")}})})).catch((function(e){B({message:e.message})})).finally((function(){return z(!1)}));case 4:e.next=8;break;case 6:return e.next=8,gn(o).then((function(){B({message:"Concern Updated",onOk:function(){r(!0,null!==L&&void 0!==L?L:"")}})})).catch((function(e){B({message:e.message})})).finally((function(){return z(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(H.a)(X.a.mark((function e(t){var n,c,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.elementName,c=t.value,r=t.text,"personnel"!==n){e.next=6;break}return I(+c),U(void 0),K(r),e.abrupt("return");case 6:if("available-personnel"!==n){e.next=11;break}return U(+c),I(void 0),K(r),e.abrupt("return");case 11:if("classificationId"!==n){e.next=15;break}return void 0===c&&S((function(){return[]})),e.next=15,Z(+c);case 15:u((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(W.a)({},n,c))}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){J.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return r(!1,"")},title:(null!==(t=null===o||void 0===o?void 0:o.id)&&void 0!==t?t:0)>0?"Update Concern ".concat(o.number):"New Concern",className:"management-modal",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)(Mt,{title:"Office",name:"officeId",hasDefault:!0,value:null===o||void 0===o?void 0:o.officeId,onChange:re,itemsList:O})}),Object(l.jsx)("div",{children:Object(l.jsx)(Mt,{title:"Classification",name:"classificationId",hasDefault:!0,value:null===o||void 0===o?void 0:o.classificationId,onChange:re,itemsList:b})}),Object(l.jsx)("div",{children:Object(l.jsx)(bt,{title:"Caller",name:"caller",value:null===o||void 0===o?void 0:o.caller,onChange:re})})]}),Object(l.jsx)("div",{children:Object(l.jsx)(Gn,{title:"Description",name:"description",lineCount:7,value:null===o||void 0===o?void 0:o.description,onChange:re})}),!o.id&&Object(l.jsx)("div",{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(Mt,{title:"Available Personnel",name:"available-personnel",hasDefault:!0,value:F,onChange:re,itemsList:N}),Object(l.jsx)(Mt,{title:"All Personnel",name:"personnel",hasDefault:!0,value:E,onChange:re,itemsList:w}),Object(l.jsx)("div",{})]})})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return ce.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var Bc=Object(c.createContext)([]),Jc=Object(c.createContext)((function(){}));function qc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),b=j[0],p=j[1],h=Object(c.useState)((function(){return[]})),v=Object(s.a)(h,2),O=v[0],x=v[1],m=Object(c.useState)(!1),y=Object(s.a)(m,2),w=y[0],g=y[1],k=Object(c.useState)(!1),C=Object(s.a)(k,2),N=C[0],S=C[1],D=Object(c.useState)(!1),A=Object(s.a)(D,2),E=A[0],I=A[1],P=Object(c.useState)(),R=Object(s.a)(P,2),F=R[0],U=R[1],M=Object(c.useRef)(!0),T=Object(c.useRef)(!1),L=V(),K=Y(),z=Object(c.useState)(),J=Object(s.a)(z,2),q=J[0],Q=J[1],Z=Object(c.useState)((function(){return[]})),$=Object(s.a)(Z,2),_=$[0],ee=$[1],te=Object(c.useState)((function(){return[]})),ne=Object(s.a)(te,2),ce=ne[0],re=ne[1],ae=Object(c.useState)((function(){return{classification:void 0,office:void 0,startDate:void 0,endDate:void 0}})),ie=Object(s.a)(ae,2),se=ie[0],oe=ie[1];function ue(e,t){return le.apply(this,arguments)}function le(){return(le=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!1),S(!1),!t){e.next=12;break}return console.log(null===q||void 0===q?void 0:q.state),e.next=6,be();case 6:return e.next=8,null===q||void 0===q?void 0:q.invoke("NewConcern");case 8:if(""===(null!==n&&void 0!==n?n:"")){e.next=11;break}return e.next=11,null===q||void 0===q?void 0:q.invoke("NewTicket",n);case 11:he();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Notification"in window?Notification.requestPermission():console.log("This browser does not support desktop notification"),e.next=3,xe();case 3:return e.next=5,ye();case 5:return e.next=7,je();case 7:return e.next=9,he();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return fe.apply(this,arguments)}function fe(){return(fe=Object(H.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==q){e.next=14;break}return(t=(new cn.a).withUrl(f+Me).configureLogging(rn.a.Information).build()).on("NewConcern",(function(){new Notification("New Concern Added"),he()})),t.on("ResolveConcern",(function(e){new Notification("Ticket ".concat(e," Resolved")),he()})),e.next=7,t.start();case 7:if(t.state!==an.b.Connected){e.next=11;break}return e.next=10,t.invoke("JoinConcernCreators");case 10:console.log(t.state);case 11:Q(t),e.next=16;break;case 14:return e.next=16,be();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),K({message:e.t0});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function be(){return pe.apply(this,arguments)}function pe(){return(pe=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===q||void 0===q?void 0:q.state)!==an.b.Disconnected){e.next=3;break}return e.next=3,null===q||void 0===q?void 0:q.start();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return ve.apply(this,arguments)}function ve(){return(ve=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(!0),xn(n,b,M.current,T.current,se.startDate,se.endDate,se.office,se.classification).then((function(e){void 0!==e&&(x(e.results),u(e.pageCount))})).catch((function(e){K({message:e.message})})).finally((function(){return L(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return(Oe=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,Cn(t).then((function(){K({message:"Concern Deleted",onOk:function(){he()}})})).catch((function(e){K({message:e.message})})).finally((function(){return L(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return me.apply(this,arguments)}function me(){return(me=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,sn().then((function(e){void 0!==e&&ee((function(){return[{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.description}}))))}))})).catch((function(e){K({message:e.message})})).finally((function(){return L(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return we.apply(this,arguments)}function we(){return(we=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,xc().then((function(e){void 0!==e&&re((function(){return[{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.description}}))))}))})).catch((function(e){K({message:e.message})})).finally((function(){return L(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(H.a)(X.a.mark((function e(t){var n,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.elementName,c=t.value,oe((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(W.a)({},n,c))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){he()}),[b,n]),Object(c.useEffect)((function(){!function(){de.apply(this,arguments)}()}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Concerns Monitoring"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(vt,{search:function(e){r((function(){return e})),p((function(){return 1}))}})}),Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"filter-container",children:[Object(l.jsx)(In,{title:"Start Date",name:"startDate",value:se.startDate,onChange:ge}),Object(l.jsx)(In,{title:"End Date",name:"endDate",value:se.endDate,onChange:ge}),Object(l.jsx)(Mt,{title:"Office",name:"office",value:se.office,onChange:ge,itemsList:ce}),Object(l.jsx)(Mt,{title:"Classification",name:"classification",value:se.classification,onChange:ge,itemsList:_})]})}),Object(l.jsxs)("section",{className:"head-content",children:[Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(Yt,{text:"Assigned",id:"assigned",checkChange:function(){M.current=!M.current,he()},isCheck:M.current}),Object(l.jsx)(Yt,{text:"Closed",id:"closed",checkChange:function(){T.current=!T.current,he()},isCheck:T.current})]}),Object(l.jsx)(ht,{pages:o,currentPageNumber:b,goInPage:function(e){p((function(){return e}))}})]}),Object(l.jsx)("section",{className:"table-container",children:Object(l.jsx)(Bc.Provider,{value:O,children:Object(l.jsx)(Jc.Provider,{value:function(e){switch(e.action){case"Add":U((function(){})),g((function(){return!0}));break;case"ViewAction":U(e.payload),I(!0);break;case"Assign":U(e.payload),S(!0);break;case"Edit":U(e.payload),g(!0);break;case"Delete":K({message:"Are you sure you want to delete this?",action:"YESNO",onOk:function(){!function(e){Oe.apply(this,arguments)}(e.payload)}});break;default:K({message:"Invalid Action"})}},children:Object(l.jsx)(Kc,{})})})}),Object(l.jsxs)(l.Fragment,{children:[w&&Object(l.jsx)(zc,{onClose:ue,selectedConcern:F}),N&&Object(l.jsx)(Pn,{onClose:ue,concern:F}),E&&Object(l.jsx)(Wn,{concern:F,onClose:function(){return I(!1)}})]})]})}function Wc(){var e,t,n,r,a,i,d,j,f,b,p,h,v,O,x,m,y,w,g,k,C,N,S,A,E,I,P,R,F,U,M,V,K,z,W,G,H,Q,X,Z,$,_,ee,te,ne,ce,re,ae=Object(c.useState)(!1),ie=Object(s.a)(ae,2),se=ie[0],oe=ie[1],ue=Object(c.useContext)(D),le=T(),de=L(),je=Y(),fe=Object(c.useState)(!1),be=Object(s.a)(fe,2),pe=be[0],he=be[1],ve=Object(c.useMemo)((function(){var e,t,n,c;return Object(B.a)(null!==le&&void 0!==le&&le.admin?[{head:"Transactions",navs:[{route:_t,name:"Concerns Monitoring"},{route:en,name:"Concerns"},{route:tn,name:"Tickets"},{route:nn,name:"Summary"}]},{head:"Maintenances",navs:[{route:Ht,name:"Users"},{route:Zt,name:"Personnels"},{route:Qt,name:"Roles"},{route:$t,name:"Classifications"},{route:Xt,name:"Offices"}]}]:[{head:"Transactions",navs:Object(B.a)(null!==(e=null===le||void 0===le||null===(t=le.distinctModules)||void 0===t?void 0:t.filter((function(e){return"Transaction"===e.header})).map((function(e){return{route:e.route,name:e.description}})))&&void 0!==e?e:[])},{head:"Maintenances",navs:Object(B.a)(null!==(n=null===le||void 0===le||null===(c=le.distinctModules)||void 0===c?void 0:c.filter((function(e){return"Maintenance"===e.header})).map((function(e){return{route:e.route,name:e.description}})))&&void 0!==n?n:[])}])}),[null===le||void 0===le?void 0:le.admin,null===le||void 0===le?void 0:le.distinctModules]);return Object(l.jsx)("div",{children:ue?Object(l.jsxs)(J.a,{children:[Object(l.jsx)("header",{children:Object(l.jsxs)("nav",{children:[Object(l.jsxs)("div",{className:"menu-container",children:[Object(l.jsx)("button",{className:"nav-menu menu-mobile-bars mobile-features",onClick:function(){he((function(e){return!e}))},children:Object(l.jsx)(u.a,{icon:o.e})}),Object(l.jsx)(J.b,{to:Gt,exact:!0,className:"nav-icon",children:"TICKETING SYSTEM"}),Object(l.jsxs)("div",{className:"nav-menu-container",children:[Object(l.jsx)("button",{className:"nav-menu desktop-features",onClick:function(){return he((function(){return!0}))},children:"Menus"}),Object(l.jsx)("div",{className:"menu-container",children:Object(l.jsxs)("div",{className:"menus "+(pe?"menu-open":""),children:[Object(l.jsx)("div",{className:"menu-items",children:Object(l.jsxs)("button",{className:"btn-menu-close "+(pe?"close-show":""),onClick:function(){return he((function(){return!1}))},children:[Object(l.jsx)(u.a,{icon:o.j}),Object(l.jsx)("span",{children:" Close"})]})}),Object(l.jsx)("div",{className:"menu-items",children:Object(l.jsxs)("label",{className:"user-name nav-menu mobile-features",onClick:function(){he((function(){return!1})),oe(!0)},children:[Object(l.jsx)("div",{className:"title-name "+(null!==le&&void 0!==le&&le.isAvailable?"user-available":""),children:null===le||void 0===le||null===(e=le.personnel)||void 0===e?void 0:e.name}),Object(l.jsxs)("div",{className:"sub-name",children:[Object(l.jsx)("span",{children:null!==(t=null===le||void 0===le||null===(n=le.personnel)||void 0===n||null===(r=n.office)||void 0===r?void 0:r.abbreviation)&&void 0!==t?t:null===le||void 0===le||null===(a=le.personnel)||void 0===a||null===(i=a.office)||void 0===i?void 0:i.description}),Object(l.jsx)("span",{className:"classification-text",children:!(null===le||void 0===le||null===(d=le.personnel)||void 0===d||null===(j=d.personnelClassification)||void 0===j||!j.length)&&"(".concat(null===le||void 0===le||null===(f=le.personnel)||void 0===f||null===(b=f.personnelClassification)||void 0===b?void 0:b.map((function(e){var t;return null===(t=e.classification)||void 0===t?void 0:t.description})).join(" | "),")")})]})]})}),ve.filter((function(e){return e.navs.length>0})).map((function(e){return Object(l.jsxs)("div",{className:"menu-items",children:[Object(l.jsx)("div",{className:"head",children:e.head}),Object(l.jsx)("div",{className:"navs",children:e.navs.map((function(e){var t;return Object(l.jsx)("div",{children:Object(l.jsx)(J.b,{onClick:function(){return he((function(){return!1}))},to:null!==(t=e.route)&&void 0!==t?t:"",exact:!0,className:"nav-menu",children:e.name})},e.route)}))})]},e.head)}))]})})]})]}),Object(l.jsx)("div",{onClick:function(){return he((function(){return!1}))},className:"menu-blocker "+(pe?"menu-blocker-show":"")}),Object(l.jsxs)("div",{className:"menu-container",children:[Object(l.jsxs)("label",{className:"user-name nav-menu desktop-features",onClick:function(){return oe(!0)},children:[Object(l.jsx)("div",{className:"title-name "+(null!==le&&void 0!==le&&le.isAvailable?"user-available":""),children:null===le||void 0===le||null===(p=le.personnel)||void 0===p?void 0:p.name}),Object(l.jsxs)("div",{className:"sub-name",children:[Object(l.jsx)("span",{children:null!==(h=null===le||void 0===le||null===(v=le.personnel)||void 0===v||null===(O=v.office)||void 0===O?void 0:O.abbreviation)&&void 0!==h?h:null===le||void 0===le||null===(x=le.personnel)||void 0===x||null===(m=x.office)||void 0===m?void 0:m.description}),Object(l.jsx)("span",{className:"classification-text",children:!(null===le||void 0===le||null===(y=le.personnel)||void 0===y||null===(w=y.personnelClassification)||void 0===w||!w.length)&&"(".concat(null===le||void 0===le||null===(g=le.personnel)||void 0===g||null===(k=g.personnelClassification)||void 0===k?void 0:k.map((function(e){var t;return null===(t=e.classification)||void 0===t?void 0:t.description})).join(" | "),")")})]})]}),Object(l.jsxs)("label",{onClick:function(){je({message:"Continue to logout?",action:"YESNO",onOk:function(){de(!1),oe(!1)}})},className:"nav-menu",children:[Object(l.jsx)(u.a,{icon:o.i,className:"mobile-features"}),Object(l.jsx)("span",{className:"desktop-features",children:"Logout"})]})]})]})}),Object(l.jsxs)(q.c,{children:[Object(l.jsx)(q.a,{path:Gt,exact:!0,component:Mc}),((null===le||void 0===le||null===(C=le.distinctModules)||void 0===C||null===(N=C.filter((function(e){return e.route===Ht})))||void 0===N||null===(S=N[0])||void 0===S?void 0:S.id)||(null===le||void 0===le?void 0:le.admin))&&Object(l.jsx)(q.a,{path:Ht,exact:!0,component:Wt}),((null===le||void 0===le||null===(A=le.distinctModules)||void 0===A||null===(E=A.filter((function(e){return e.route===Qt})))||void 0===E||null===(I=E[0])||void 0===I?void 0:I.id)||(null===le||void 0===le?void 0:le.admin))&&Object(l.jsx)(q.a,{path:Qt,exact:!0,component:cc}),((null===le||void 0===le||null===(P=le.distinctModules)||void 0===P||null===(R=P.filter((function(e){return e.route===en})))||void 0===R||null===(F=R[0])||void 0===F?void 0:F.id)||(null===le||void 0===le?void 0:le.admin))&&Object(l.jsx)(q.a,{path:en,exact:!0,component:Zn}),((null===le||void 0===le||null===(U=le.distinctModules)||void 0===U||null===(M=U.filter((function(e){return e.route===_t})))||void 0===M||null===(V=M[0])||void 0===V?void 0:V.id)||(null===le||void 0===le?void 0:le.admin))&&Object(l.jsx)(q.a,{path:_t,exact:!0,component:qc}),((null===le||void 0===le||null===(K=le.distinctModules)||void 0===K||null===(z=K.filter((function(e){return e.route===tn})))||void 0===z||null===(W=z[0])||void 0===W?void 0:W.id)||(null===le||void 0===le?void 0:le.admin))&&Object(l.jsx)(q.a,{path:tn,exact:!0,component:lc}),((null===le||void 0===le||null===(G=le.distinctModules)||void 0===G||null===(H=G.filter((function(e){return e.route===$t})))||void 0===H||null===(Q=H[0])||void 0===Q?void 0:Q.id)||(null===le||void 0===le?void 0:le.admin))&&Object(l.jsx)(q.a,{path:$t,exact:!0,component:hc}),((null===le||void 0===le||null===(X=le.distinctModules)||void 0===X||null===(Z=X.filter((function(e){return e.route===Zt})))||void 0===Z||null===($=Z[0])||void 0===$?void 0:$.id)||(null===le||void 0===le?void 0:le.admin))&&Object(l.jsx)(q.a,{path:Zt,exact:!0,component:Ac}),((null===le||void 0===le||null===(_=le.distinctModules)||void 0===_||null===(ee=_.filter((function(e){return e.route===Xt})))||void 0===ee||null===(te=ee[0])||void 0===te?void 0:te.id)||(null===le||void 0===le?void 0:le.admin))&&Object(l.jsx)(q.a,{path:Xt,exact:!0,component:Uc}),((null===le||void 0===le||null===(ne=le.distinctModules)||void 0===ne||null===(ce=ne.filter((function(e){return e.route===nn})))||void 0===ce||null===(re=ce[0])||void 0===re?void 0:re.id)||(null===le||void 0===le?void 0:le.admin))&&Object(l.jsx)(q.a,{path:nn,exact:!0,component:Yc})]}),Object(l.jsx)("div",{children:se&&Object(l.jsx)($n,{onClose:function(){return oe(!1)}})})]}):Object(l.jsx)(pt,{})})}n(119);var Gc=function(){return Object(l.jsx)(z,{children:Object(l.jsx)(Wc,{})})};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Gc,{})}),document.getElementById("root"))},64:function(e,t,n){},69:function(e,t){}},[[120,1,2]]]);
//# sourceMappingURL=main.73bde7ec.chunk.js.map
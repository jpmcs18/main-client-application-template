(this["webpackJsonpmain-client"]=this["webpackJsonpmain-client"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(27),i=n.n(a),s=(n(52),n(3)),o=n(10),u=n(12),l=n(0);function d(e){var t=e.title,n=e.className,r=e.onClose,a=e.children;return Object(c.useEffect)((function(){return document.body.classList.add("body-modal"),function(){document.body.classList.remove("body-modal")}})),i.a.createPortal(Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"modal-container",children:[Object(l.jsx)("div",{className:"modal-blocker"}),Object(l.jsxs)("div",{className:"modal-content "+n,children:[Object(l.jsxs)("div",{className:"modal-content-header",children:[Object(l.jsx)("div",{className:"header-text",children:t}),void 0!==r&&Object(l.jsx)(u.a,{className:"close-icon",icon:o.i,onClick:r})]}),a]})]})}),document.getElementById("modal"))}function j(){var e=Object(c.useContext)(I),t=Object(c.useContext)(A),n=M();function r(){e()}function a(){var c;"Unauthorized"===(null===t||void 0===t?void 0:t.message)&&n(!1),e(),null===t||void 0===t||null===(c=t.onOk)||void 0===c||c.call(t)}return Object(l.jsxs)(d,{children:[Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("p",{children:null===t||void 0===t?void 0:t.message})}),Object(l.jsxs)("div",{className:"modal-footer",children:[(void 0===(null===t||void 0===t?void 0:t.action)||"OKCANCEL"===(null===t||void 0===t?void 0:t.action))&&Object(l.jsx)("button",{onClick:a,className:"btn-modal btn-primary",children:"OK"}),"OKCANCEL"===(null===t||void 0===t?void 0:t.action)&&Object(l.jsx)("button",{onClick:r,className:"btn-modal btn-secondary ",children:"CANCEL"}),"YESNO"===(null===t||void 0===t?void 0:t.action)&&Object(l.jsx)("button",{onClick:a,className:"btn-modal btn-primary",children:"YES"}),"YESNO"===(null===t||void 0===t?void 0:t.action)&&Object(l.jsx)("button",{onClick:r,className:"btn-modal btn-secondary",children:"NO"})]})]})}var f="http:"===window.location.protocol?"http://192.168.210.250:808":"https://119.93.121.249:808",b="nothingunusualkey",p=1,v=1,h=3,O=n(56),m="--pxx--",x="--pxx-xdx--";function y(e){return O.AES.encrypt(e,b).toString()}function w(e){return O.AES.decrypt(e,b).toString(O.enc.Utf8)}function k(e){void 0!==e.token&&void 0!==e.refreshToken&&sessionStorage.setItem(m,y(JSON.stringify(e)))}function g(){sessionStorage.removeItem(m)}function C(){try{var e;return JSON.parse(w(null!==(e=sessionStorage.getItem(m))&&void 0!==e?e:""))}catch(t){return}}function N(e){if(void 0!==e){var t={username:e.username,admin:e.admin,personnel:e.personnel,distinctModules:e.distinctModules};sessionStorage.setItem(x,y(JSON.stringify(t)))}}var S=r.a.createContext(!1),E=r.a.createContext(void 0),P=r.a.createContext((function(){})),I=r.a.createContext((function(){})),A=r.a.createContext(void 0),D=r.a.createContext(!1),U=r.a.createContext((function(){})),R=r.a.createContext((function(){})),L=r.a.createContext((function(){}));function F(){return Object(c.useContext)(E)}function M(){return Object(c.useContext)(U)}function K(){return Object(c.useContext)(P)}function z(){return Object(c.useContext)(R)}function T(){return Object(c.useContext)(L)}function V(e){var t=e.children,n=Object(c.useState)((function(){var e=C();return void 0!==(null===e||void 0===e?void 0:e.token)})),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)((function(){return function(){try{var e;return JSON.parse(w(null!==(e=sessionStorage.getItem(x))&&void 0!==e?e:""))}catch(t){return}}()})),u=Object(s.a)(o,2),d=u[0],f=u[1],b=Object(c.useState)(!1),p=Object(s.a)(b,2),v=p[0],h=p[1],O=Object(c.useState)(),m=Object(s.a)(O,2),y=m[0],k=m[1],g=Object(c.useState)((function(){return 0})),N=Object(s.a)(g,2),F=N[0],M=N[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"loading-screen"+(F>0?" loading-block":""),children:[Object(l.jsx)("div",{className:"loading-blocker"}),Object(l.jsx)("div",{className:"loading",children:Object(l.jsx)("label",{children:" Please Wait"})})]}),Object(l.jsx)(R.Provider,{value:function(e){M((function(t){return t+(e?1:-1)})),F+(e?1:-1)===1?document.body.classList.add("body-modal"):document.body.classList.remove("body-modal")},children:Object(l.jsx)(D.Provider,{value:v,children:Object(l.jsx)(I.Provider,{value:function(){h(!1)},children:Object(l.jsx)(A.Provider,{value:y,children:Object(l.jsx)(P.Provider,{value:function(e){k(e),h(!0)},children:Object(l.jsx)(S.Provider,{value:a,children:Object(l.jsx)(U.Provider,{value:function(e){e||(sessionStorage.clear(),f(void 0)),i(e)},children:Object(l.jsx)(E.Provider,{value:d,children:Object(l.jsxs)(L.Provider,{value:function(e){f(e)},children:[t,v&&Object(l.jsx)(j,{})]})})})})})})})})})]})}var B=n(8),J=n(24),Y=n(9),G=n(11),W=n(5),q=n(4),H=n(2),Q=n.n(H),X="securities/refresh",Z="securities/log",$="users/profile",_="users/search",ee="users/activate",te="users/reset-password",ne="users",ce="users",re="users",ae="users/profile",ie="modules",se="roles/search",oe="roles",ue="roles",le="roles",de="concerns/search",je="concerns",fe="concerns",be="concerns",pe="concerns/assign",ve="classifications",he="classifications/search",Oe="classifications",me="classifications",xe="offices",ye="offices/search",we="offices",ke="offices",ge="personnels",Ce="personnels/classification/available",Ne="personnels/search",Se="personnels",Ee="personnels",Pe="personnel-concerns",Ie="personnel-concerns/actions",Ae="personnel-concerns/resolve",De="personnel-concerns/forward",Ue=n(23),Re=n.n(Ue);function Le(e){return Fe.apply(this,arguments)}function Fe(){return Fe=Object(q.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(null===(n=C())||void 0===n?void 0:n.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Re.a.get(t,{headers:{Authorization:"Bearer "+(null===n||void 0===n?void 0:n.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=200===e.t0?3:4;break;case 3:return e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(q.a)(Q.a.mark((function e(n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.response){e.next=15;break}e.t0=n.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(n.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Ge();case 8:if(!e.sent){e.next=12;break}return e.next=11,Le(t);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("Not Data Found");case 15:throw new Error(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Fe.apply(this,arguments)}function Me(e,t){return Ke.apply(this,arguments)}function Ke(){return Ke=Object(q.a)(Q.a.mark((function e(t,n){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(c=C())||void 0===c?void 0:c.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Re.a.post(t,n,{headers:{Authorization:"Bearer "+(null===c||void 0===c?void 0:c.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=200===e.t0?3:201===e.t0?4:204===e.t0?5:6;break;case 3:case 4:return e.abrupt("return",t.data);case 5:return e.abrupt("return",!0);case 6:throw new Error("Unknown Error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(q.a)(Q.a.mark((function e(c){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.response){e.next=15;break}e.t0=c.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(c.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Ge();case 8:if(!e.sent){e.next=12;break}return e.next=11,Me(t,n);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("No Data Found");case 15:throw new Error(c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Ke.apply(this,arguments)}function ze(e,t){return Te.apply(this,arguments)}function Te(){return Te=Object(q.a)(Q.a.mark((function e(t,n){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(c=C())||void 0===c?void 0:c.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Re.a.put(t,n,{headers:{Authorization:"Bearer "+(null===c||void 0===c?void 0:c.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=204===e.t0?3:4;break;case 3:return e.abrupt("return",!0);case 4:throw new Error("Unknown Error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(q.a)(Q.a.mark((function e(c){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.response){e.next=15;break}e.t0=c.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(c.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Ge();case 8:if(!e.sent){e.next=12;break}return e.next=11,ze(t,n);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("No Data Found");case 15:throw new Error(c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Te.apply(this,arguments)}function Ve(e){return Be.apply(this,arguments)}function Be(){return Be=Object(q.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(n=C())||void 0===n?void 0:n.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Re.a.delete(t,{headers:{Authorization:"Bearer "+(null===n||void 0===n?void 0:n.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=204===e.t0?3:4;break;case 3:return e.abrupt("return",!0);case 4:throw new Error("Unknown Error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(q.a)(Q.a.mark((function e(n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.response){e.next=15;break}e.t0=n.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(n.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Ge();case 8:if(!e.sent){e.next=12;break}return e.next=11,Ve(t);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("No Data Found");case 15:throw new Error(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Be.apply(this,arguments)}function Je(e,t){return Ye.apply(this,arguments)}function Ye(){return Ye=Object(q.a)(Q.a.mark((function e(t,n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.post(t,JSON.stringify(n),{headers:{"content-type":"application/json"},baseURL:f}).then((function(e){if(200===e.status)return e.data;throw new Error("Unknown Error")})).catch(function(){var e=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=7;break}e.t0=t.response.status,e.next=400===e.t0?4:404===e.t0?5:6;break;case 4:case 6:throw new Error(t.response.data);case 5:throw new Error("No Data Found");case 7:throw new Error(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function Ge(){return We.apply(this,arguments)}function We(){return(We=Object(q.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C(),e.next=3,Je(X,t).then((function(e){if(void 0!==e)return k(e),!0;throw new Error("Unauthorized")})).catch((function(){throw g(),new Error("Unauthorized")}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){return He.apply(this,arguments)}function He(){return(He=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(Z,t).then((function(e){return k(e),!0}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le($);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){return(Ze=Object(q.a)(Q.a.mark((function e(t,n){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Le(_+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(ee+"/"+t,null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(te+"/"+t,null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(ne+"/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){return at.apply(this,arguments)}function at(){return(at=Object(q.a)(Q.a.mark((function e(t,n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(ce,Object(W.a)(Object(W.a)({},t),{},{roleIds:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t,n){return st.apply(this,arguments)}function st(){return(st=Object(q.a)(Q.a.mark((function e(t,n,c){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(re+"/"+t.id,Object(W.a)(Object(W.a)({},t),{},{newRoleIds:n,accessToDelete:c}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(ae,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e){var t=e.title,n=e.name,r=e.type,a=e.id,i=e.className,d=e.value,j=e.readonly,f=e.onChange,b=e.onKeyPress,p=Object(c.useState)(!0),v=Object(s.a)(p,2),h=v[0],O=v[1];return Object(l.jsxs)("div",{className:"custom-input ",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)("div",{className:"input-container",children:j?Object(l.jsx)("span",{children:d}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{type:"password"===r?h?"password":"text":null!==r&&void 0!==r?r:"text",name:n,id:a,value:d,className:i,onChange:function(e){return null===f||void 0===f?void 0:f({elementName:null!==n&&void 0!==n?n:"",value:e.target.value})},onKeyPress:b}),"password"===r&&Object(l.jsx)("div",{className:"eye-container",children:Object(l.jsx)(u.a,{icon:h?o.e:o.f,className:"eye-icon",onClick:function(){O((function(e){return!e}))}})})]})})]})}function dt(){var e=Object(c.useState)({username:"",password:""}),t=Object(s.a)(e,2),n=t[0],r=t[1],a=K(),i=T(),o=M(),u=z();function d(){return j.apply(this,arguments)}function j(){return j=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,qe(n).then(function(){var e=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,f();case 3:o(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function f(){return b.apply(this,arguments)}function b(){return(b=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Qe().then((function(e){void 0!==e&&(N(e),i(e))})).catch((function(e){a({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){var t=e.elementName,c=e.value;r(Object(W.a)(Object(W.a)({},n),{},Object(G.a)({},t,c)))}function v(e){if("Enter"===e.key){var t,c;if(""===n.username)return void(null===(t=document.getElementById("username"))||void 0===t||t.focus());if(""===n.password)return void(null===(c=document.getElementById("password"))||void 0===c||c.focus());d()}}return Object(l.jsxs)("div",{className:"login-container",children:[Object(l.jsx)("div",{className:"login-header",children:Object(l.jsx)("h1",{children:"Authentication"})}),Object(l.jsxs)("div",{className:"login-content",children:[Object(l.jsx)(lt,{title:"Username",name:"username",id:"username",className:"username",onChange:p,onKeyPress:v}),Object(l.jsx)(lt,{title:"Password",name:"password",id:"password",type:"password",className:"password",onChange:p,onKeyPress:v}),Object(l.jsx)("button",{onClick:d,className:"btn",children:"Login"})]})]})}function jt(e){var t=e.pages,n=e.currentPageNumber,r=e.goInPage,a=Object(c.useState)(n),i=Object(s.a)(a,2),d=i[0],j=i[1],f=Object(c.useState)(!1),b=Object(s.a)(f,2),p=b[0],v=b[1],h=Object(c.useState)(!1),O=Object(s.a)(h,2),m=O[0],x=O[1],y=Object(c.useState)(!1),w=Object(s.a)(y,2),k=w[0],g=w[1],C=Object(c.useState)(!1),N=Object(s.a)(C,2),S=N[0],E=N[1],P=Object(c.useState)([]),I=Object(s.a)(P,2),A=I[0],D=I[1];return Object(c.useEffect)((function(){j(n);for(var e=[],c=1;c<=t;c++)e.push(c);return D(e),g(!1),E(!1),v(!1),x(!1),t>1&&(n!==t&&(g(!0),E(!0)),1!==n&&(v(!0),x(!0))),function(){e=[]}}),[t,n]),Object(l.jsxs)("div",{className:"pagination",children:[Object(l.jsx)(u.a,{icon:o.a,className:p?"":"disabled",onClick:function(){p&&(r(1),v(!1),x(!1),g(!0),E(!0))}}),Object(l.jsx)(u.a,{icon:o.c,onClick:function(){m&&(j((function(e){return 1===(e-=1)&&(v(!1),x(!1)),r(e),e})),g(!0),E(!0))},className:m?"":"disabled"}),Object(l.jsxs)("div",{className:"pages-container",children:[Object(l.jsx)("button",{className:"current-page",children:d}),Object(l.jsx)("div",{className:"pages",children:A.map((function(e){return Object(l.jsx)("div",{className:e===d?"active":"",onClick:function(){var n;j(n=e),v(!0),x(!0),g(!0),E(!0),1===n&&(v(!1),x(!1)),n===t&&(g(!1),E(!1)),r(n)},children:e},e)}))})]}),Object(l.jsx)(u.a,{icon:o.d,onClick:function(){k&&(j((function(e){return(e+=1)===t&&(g(!1),E(!1)),r(e),e})),v(!0),x(!0))},className:k?"":"disabled"}),Object(l.jsx)(u.a,{icon:o.b,onClick:function(){S&&(j(t),g(!1),E(!1),v(!0),x(!0),r(t))},className:S?"":"disabled"})]})}function ft(e){var t=e.search,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],i=r[1];return Object(l.jsxs)("div",{className:"search-container",children:[Object(l.jsx)("input",{type:"text",className:"name",placeholder:"Search...",value:a,onChange:function(e){i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(a)}}),Object(l.jsx)(u.a,{className:"search-icon",icon:o.h,onClick:function(){t(a)}})]})}function bt(e){var t,n,c,r,a,i,s=e.user,d=e.action;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:null===(t=s.personnel)||void 0===t?void 0:t.name}),Object(l.jsx)("td",{children:null===(n=s.personnel)||void 0===n||null===(c=n.classification)||void 0===c?void 0:c.description}),Object(l.jsx)("td",{children:s.username}),Object(l.jsxs)("td",{className:"elipsis",children:[s.admin?"Admin":"User",(null!==(r=null===(a=s.userRoles)||void 0===a?void 0:a.length)&&void 0!==r?r:0)>0&&" | ",null===(i=s.userRoles)||void 0===i?void 0:i.map((function(e){return e.role.description})).join(" | ")]}),Object(l.jsx)("td",{children:s.active?"Active":"Inactive"}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)(u.a,{className:"action-icon table-icon-button",icon:o.l,onClick:function(){d({type:"Activate",id:s.id,active:s.active})},title:"Activate/Deactivate User"}),Object(l.jsx)(u.a,{icon:o.m,className:"action-icon table-icon-button",onClick:function(){d({type:"ResetPassword",id:s.id})},title:"Reset Users Password"}),Object(l.jsx)(u.a,{icon:o.g,className:"action-icon table-icon-button",onClick:function(){d({type:"Edit",user:s})},title:"Edit User"}),Object(l.jsx)(u.a,{icon:o.j,className:"action-icon table-icon-button",onClick:function(){d({type:"Delete",id:s.id})},title:"Delete User"})]})]})}function pt(){return vt.apply(this,arguments)}function vt(){return(vt=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Le(ge));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Le("".concat(Ce,"?classificationId=").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(){return(mt=Object(q.a)(Q.a.mark((function e(t,n){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Le(Ne+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e){return yt.apply(this,arguments)}function yt(){return(yt=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Me(Se,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze("".concat(Ee,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Le(oe));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(){return(Nt=Object(q.a)(Q.a.mark((function e(t,n){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Le(se+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e,t){return Et.apply(this,arguments)}function Et(){return(Et=Object(q.a)(Q.a.mark((function e(t,n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(ue,{description:t,moduleIds:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e,t,n,c){return It.apply(this,arguments)}function It(){return(It=Object(q.a)(Q.a.mark((function e(t,n,c,r){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(le+"/"+t,{description:n,newModuleIds:c,accessToDelete:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){var t=e.title,n=e.name,c=e.id,r=e.className,a=e.isCheck,i=e.onChange;return Object(l.jsx)("div",{className:"custom-input "+r,children:Object(l.jsx)("button",{className:"checkbox"+(a?" checked":""),value:a?"true":"false",id:c,onClick:function(){null===i||void 0===i||i({elementName:null!==n&&void 0!==n?n:"",value:!a})},children:t})})}function Dt(e){var t,n=e.title,c=e.name,r=e.id,a=e.className,i=e.value,s=e.itemsList,o=e.readonly,u=e.onChange;return Object(l.jsxs)("div",{className:"custom-input",children:[Object(l.jsx)("label",{children:n}),Object(l.jsx)("div",{className:"select-container",children:o?Object(l.jsx)("span",{children:null===(t=s.find((function(e){return e.key===i})))||void 0===t?void 0:t.value}):Object(l.jsx)("select",{id:r,className:a,onChange:function(e){null===u||void 0===u||u({elementName:null!==c&&void 0!==c?c:"",value:e.target.value})},children:null===s||void 0===s?void 0:s.map((function(e){return Object(l.jsx)("option",{value:e.key,selected:e.value===i,children:e.value},e.key)}))})})]})}function Ut(){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(ie);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){var t=e.isCheck,n=e.checkChange,c=e.id,r=e.text;return Object(l.jsxs)("div",{className:"check",children:[Object(l.jsxs)("label",{className:"check-container",children:[Object(l.jsx)("input",{type:"checkbox",id:null!==c&&void 0!==c?c:"check",onChange:n,checked:t}),Object(l.jsx)("span",{className:"checkmark"})]}),r&&Object(l.jsx)("label",{className:"check-label",htmlFor:null!==c&&void 0!==c?c:"check",children:r})]})}function Ft(e){var t,n=e.module,r=Object(c.useContext)(Kt);return Object(l.jsx)("tr",{children:Object(l.jsx)("td",{className:"left-content",children:n.viewOnly?Object(l.jsx)("div",{children:n.description}):Object(l.jsx)(Lt,{checkChange:function(){r({action:"Check",payload:n})},id:n.id.toString(),text:n.description,isCheck:null!==(t=null===n||void 0===n?void 0:n.checked)&&void 0!==t&&t})})})}function Mt(){var e=Object(c.useContext)(zt);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Module Access"})})}),Object(l.jsx)("tbody",{children:e.map((function(e){return Object(l.jsx)(Ft,{module:e},e.id)}))})]})}var Kt=Object(c.createContext)((function(){})),zt=Object(c.createContext)([]);function Tt(e){var t=e.selectedRole,n=e.onClose,r=e.viewOnly,a=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,description:"",accesses:[]}})),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)([]),f=Object(s.a)(j,2),b=f[0],p=f[1],v=z(),h=K();function O(){return(O=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),0!==o.id){e.next=6;break}return e.next=4,St(o.description,b.filter((function(e){return e.checked})).map((function(e){return e.id}))).then((function(){h({message:"Role Added",onOk:function(){n(!0)}})})).catch((function(e){h({message:e.message})})).finally((function(){return v(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Pt(o.id,o.description,b.filter((function(e){return e.checked&&void 0===e.accessId})).map((function(e){return e.id})),b.filter((function(e){return!e.checked&&void 0!==e.accessId})).map((function(e){var t;return null!==(t=e.accessId)&&void 0!==t?t:0}))).then((function(){h({message:"Role Updated",onOk:function(){n(!0)}})})).catch((function(e){h({message:e.message})})).finally((function(){return v(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.action,e.next="Check"===e.t0?3:5;break;case 3:return p(b.map((function(e){return e.id===t.payload.id&&(e.checked=!e.checked),e}))),e.abrupt("break",5);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return w=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,Ut().then((function(e){if(void 0!==e){var t=e.map((function(e){var t,n,c=null===(t=o.accesses)||void 0===t||null===(n=t.filter((function(t){return t.moduleId===e.id})))||void 0===n?void 0:n[0];return void 0!==c&&(e.checked=!0,e.accessId=c.id),e}));r&&(t=t.filter((function(e){return void 0!==e.accessId})).map((function(e){return e.viewOnly=!0,e}))),p(t)}})).catch((function(e){h({message:e.message})})).finally((function(){return v(!1)}));case 3:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}return Object(c.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){n(!1)},title:r?"Role":null!==t&&void 0!==t&&t.id?"Update Role":"Add New Role",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:Object(l.jsx)(lt,{title:"Description",name:"description",value:o.description,onChange:function(e){u((function(t){return Object(W.a)(Object(W.a)({},t),{},Object(G.a)({},e.elementName,e.value))}))},readonly:r})}),Object(l.jsx)("div",{children:Object(l.jsx)(zt.Provider,{value:b,children:Object(l.jsx)(Kt.Provider,{value:function(e){return x.apply(this,arguments)},children:Object(l.jsx)(Mt,{})})})}),!r&&Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return m.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}function Vt(e){var t,n,r,a,i,j=e.usersInfo,f=e.onClose,b=Object(c.useState)([]),p=Object(s.a)(b,2),v=p[0],h=p[1],O=Object(c.useState)([]),m=Object(s.a)(O,2),x=m[0],y=m[1],w=Object(c.useState)((function(){return null!==j&&void 0!==j?j:{id:0,username:"",name:"",active:!1,admin:!1,personnel:void 0,personnelId:void 0}})),k=Object(s.a)(w,2),g=k[0],C=k[1],N=Object(c.useState)([]),S=Object(s.a)(N,2),E=S[0],P=S[1],I=Object(c.useState)([]),A=Object(s.a)(I,2),D=A[0],U=A[1],R=Object(c.useState)((function(){var e;return null!==(e=null===j||void 0===j?void 0:j.userRoles)&&void 0!==e?e:[]})),L=Object(s.a)(R,2),F=L[0],M=L[1],T=Object(c.useState)(!1),V=Object(s.a)(T,2),J=V[0],Y=V[1],H=Object(c.useState)(),X=Object(s.a)(H,2),Z=X[0],$=X[1],_=z(),ee=K();function te(){return(te=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:return e.next=4,ie();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),0!==g.id){e.next=6;break}return e.next=4,rt(g,F.map((function(e){return e.roleId}))).then((function(){ee({message:"New User Added",onOk:function(){f(!0)}})})).catch((function(e){ee({message:e.message})})).finally((function(){return _(!1)}));case 4:e.next=8;break;case 6:return e.next=8,it(g,F.filter((function(e){return 0===e.id})).map((function(e){return e.roleId})),F.filter((function(e){return e.deleted})).map((function(e){return e.id}))).then((function(){ee({message:"User Updated",onOk:function(){f(!0)}})})).catch((function(e){ee({message:e.message})})).finally((function(){return _(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return re.apply(this,arguments)}function re(){return(re=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,pt().then((function(e){void 0!==e&&(y(e),h([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){ee({message:e.message})})).finally((function(){return _(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){var t=e.elementName,n=e.value;if("role"===t){var c,r=null===(c=E.filter((function(e){return e.id===+n})))||void 0===c?void 0:c[0];M((function(e){return[].concat(Object(B.a)(e),[{id:0,roleId:r.id,role:r,userId:g.id}])})),U((function(e){return e.filter((function(e){return e.key!==n}))}))}if("personnel"!==t)C((function(e){return void 0===e?Object(G.a)({},t,n):Object(W.a)(Object(W.a)({},e),{},Object(G.a)({},t,n))}));else{var a,i=null===(a=x.filter((function(e){return e.id===+n})))||void 0===a?void 0:a[0];C((function(e){return Object(W.a)(Object(W.a)({},e),{},{personnel:i,personnelId:i.id})}))}}function ie(){return se.apply(this,arguments)}function se(){return(se=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,gt().then((function(e){void 0!==e&&(P(e),U([{key:"",value:""}].concat(Object(B.a)(e.filter((function(e){var t,n,c;return!(null!==(t=g.userRoles)&&void 0!==t&&null!==(n=t.filter((function(t){return t.roleId===e.id})))&&void 0!==n&&null!==(c=n[0])&&void 0!==c&&c.id)})).map((function(e){return{key:e.id.toString(),value:e.description}}))))))})).catch((function(e){ee({message:e.message})})).finally((function(){_(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){te.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return f(!1)},title:(null!==(t=null===g||void 0===g?void 0:g.id)&&void 0!==t?t:0)>0?"Update Users Information":"Add New User",children:[Object(l.jsxs)("div",{className:"user-management-modal-body modal-content-body",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(Dt,{title:"Personnel",name:"personnel",value:null===g||void 0===g||null===(n=g.personnel)||void 0===n?void 0:n.name,onChange:ae,itemsList:v}),Object(l.jsx)(lt,{title:"Username",name:"username",value:null===g||void 0===g?void 0:g.username,onChange:ae})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(At,{title:"Is Admin",name:"admin",isCheck:null!==(r=null===g||void 0===g?void 0:g.admin)&&void 0!==r&&r,onChange:ae}),Object(l.jsx)(At,{title:"Is Active",name:"active",isCheck:null!==(a=null===g||void 0===g?void 0:g.active)&&void 0!==a&&a,onChange:ae})]}),Object(l.jsx)("div",{children:Object(l.jsx)(Dt,{title:"Role",name:"role",value:null===g||void 0===g||null===(i=g.personnel)||void 0===i?void 0:i.name,onChange:ae,itemsList:D})}),Object(l.jsx)("div",{className:"table-container",children:Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"User Roles"})})}),Object(l.jsx)("tbody",{children:null===F||void 0===F?void 0:F.map((function(e){var t;return Object(l.jsxs)("tr",{className:e.deleted?"deleted":"",children:[Object(l.jsx)("td",{children:null===(t=e.role)||void 0===t?void 0:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[e.deleted&&Object(l.jsx)(u.a,{icon:o.k,className:"action-icon table-icon-button",onClick:function(){!function(e){M((function(t){return t.map((function(t){return t.roleId===e.roleId&&(t.deleted=!1),t}))}))}(e)},title:"Undo"}),!e.deleted&&Object(l.jsx)(u.a,{icon:o.j,className:"action-icon table-icon-button",onClick:function(){!function(e){var t,n,c,r;M((function(t){return 0===e.id?t.filter((function(t){return t.roleId!==e.roleId})):t.map((function(t){return t.roleId===e.roleId&&(t.deleted=!0),t}))})),0===e.id&&U([].concat(Object(B.a)(D),[{key:null!==(t=null===(n=e.roleId)||void 0===n?void 0:n.toString())&&void 0!==t?t:"",value:null!==(c=null===(r=e.role)||void 0===r?void 0:r.description)&&void 0!==c?c:""}]))}(e)},title:"Delete"}),Object(l.jsx)(u.a,{icon:o.e,className:"action-icon table-icon-button",onClick:function(){!function(e){$(e.role),Y(!0)}(e)},title:"View"})]})]},e.roleId)}))})]})})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return ne.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})}),Object(l.jsx)("div",{children:J&&Object(l.jsx)(Tt,{onClose:function(){Y(!1)},selectedRole:Z,viewOnly:!0})})]})}function Bt(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),v=Object(s.a)(p,2),h=v[0],O=v[1],m=z(),x=K(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),k=w[0],g=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1];function P(e){switch(e.type){case"Activate":t=e.id,n=e.active,x({message:"Active this user?",onOk:function(){var e=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,$e(t).then((function(e){u((function(e){return e.map((function(e){return e.id===t&&null!==n&&(e.active=!n),e}))})),x({message:n?"Deactivated":"Activated"})})).catch((function(e){x({message:e.message})})).finally((function(){return m(!1)}));case 3:case"end":return e.stop()}}),e)})));function c(){return e.apply(this,arguments)}return c}()});break;case"ResetPassword":!function(e){x({message:"Reset Password?",onOk:function(){var t=Object(q.a)(Q.a.mark((function t(){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,et(e).then((function(){x({message:"Password reset to default password"})})).catch((function(e){x({message:e.message})})).finally((function(){return m(!1)}));case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})}(e.id);break;case"Edit":g(!0),E(e.user);break;case"Delete":x({message:"Are you sure you want to delete this?",action:"YESNO",onOk:function(){!function(e){I.apply(this,arguments)}(e.id)}});break;default:x({message:"Invalid Action"})}var t,n}function I(){return(I=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,nt(t).then((function(){x({message:"User Deleted",onOk:function(){A(n,h)}})})).catch((function(e){x({message:e.message})})).finally((function(){return m(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){m(!0),function(e,t){return Ze.apply(this,arguments)}(e,t).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),O(t))})).catch((function(e){x({message:e.message})})).finally((function(){return m(!1)}))}return Object(c.useEffect)((function(){A(n,h)}),[]),Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsxs)("div",{className:"item-container",children:[Object(l.jsx)(ft,{search:function(e){r(e),A(e,1)}}),Object(l.jsx)("div",{children:Object(l.jsx)(jt,{pages:f,currentPageNumber:h,goInPage:function(e){A(n,e)}})}),Object(l.jsx)("div",{className:"content",children:Object(l.jsxs)("table",{className:"users-content item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Classification"}),Object(l.jsx)("th",{children:"Username"}),Object(l.jsx)("th",{children:"Role"}),Object(l.jsx)("th",{children:"Status"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:6,children:Object(l.jsx)("button",{className:"btn",onClick:function(){E(void 0),g(!0)},children:"Add New User"})})})]}),Object(l.jsx)("tbody",{children:o.map((function(e){return Object(l.jsx)(bt,{user:e,action:P},e.id)}))})]})})]}),Object(l.jsx)("div",{children:k&&Object(l.jsx)(Vt,{onClose:function(e){g(!1),e&&A(n,h)},usersInfo:S})})]})}var Jt="/",Yt="/users",Gt="/roles",Wt="/office",qt="/personnel",Ht="/classification",Qt="/concerns",Xt="/tickets";function Zt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(q.a)(Q.a.mark((function e(t,n){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Le(de+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t){return en.apply(this,arguments)}function en(){return(en=Object(q.a)(Q.a.mark((function e(t,n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(je,Object(W.a)(Object(W.a)({},t),{},{personnelId:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e){return nn.apply(this,arguments)}function nn(){return(nn=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze("".concat(fe,"/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(e){return rn.apply(this,arguments)}function rn(){return(rn=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve("".concat(be,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,t){return sn.apply(this,arguments)}function sn(){return(sn=Object(q.a)(Q.a.mark((function e(t,n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(pe,{id:t,personnelId:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(e){var t,n,r=e.concern,a=Object(c.useContext)(Kn);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:r.entryDate&&new Date(r.entryDate).toLocaleString()}),Object(l.jsx)("td",{className:"elipsis",children:r.description}),Object(l.jsx)("td",{children:null===(t=r.classification)||void 0===t?void 0:t.description}),Object(l.jsx)("td",{children:null===(n=r.office)||void 0===n?void 0:n.description}),Object(l.jsx)("td",{children:r.caller}),Object(l.jsxs)("td",{children:[Object(l.jsx)("div",{children:r.status}),Object(l.jsx)("div",{children:r.closedDate&&new Date(r.closedDate).toLocaleString()})]}),Object(l.jsxs)("td",{className:"table-actions",children:[r.statusId!==p&&Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"ViewAction",payload:r})},children:"View Actions"}),r.statusId===p&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Assign",payload:r})},children:"Assign To Concerned Personnel"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Edit",payload:r})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Delete",payload:r.id})},children:"Delete"})]})]})]})}function un(){var e=Object(c.useContext)(Kn),t=Object(c.useContext)(Mn);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Time Entry"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Classification"}),Object(l.jsx)("th",{children:"Concern Office"}),Object(l.jsx)("th",{children:"Caller"}),Object(l.jsx)("th",{children:"Status"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Concern"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(on,{concern:e},e.id)}))})]})}function ln(e){var t=e.title,n=e.onClose,r=e.concern,a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)([]),f=Object(s.a)(j,2),b=f[0],p=f[1],v=Object(c.useState)([]),h=Object(s.a)(v,2),O=h[0],m=h[1],x=Object(c.useState)(),y=Object(s.a)(x,2),w=y[0],k=y[1],g=Object(c.useState)(),C=Object(s.a)(g,2),N=C[0],S=C[1],E=z(),P=K();function I(){return(I=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return e.next=4,A();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return D.apply(this,arguments)}function D(){return(D=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,pt().then((function(e){void 0!==e&&(m(e),u([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){P({message:e.message})})).finally((function(){return E(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return R.apply(this,arguments)}function R(){return(R=Object(q.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,ht(null!==(t=null===r||void 0===r?void 0:r.classificationId)&&void 0!==t?t:0).then((function(e){void 0!==e&&p([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}})))))})).catch((function(e){P({message:e.message})})).finally((function(){return E(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var t,n,c=e.elementName,r=e.value;return"personnel"===c?(k(null===(t=O.filter((function(e){return e.id===+r})))||void 0===t?void 0:t[0]),void S(void 0)):"available-personnel"===c?(S(null===(n=O.filter((function(e){return e.id===+r})))||void 0===n?void 0:n[0]),void k(void 0)):void 0}function F(){return(F=Object(q.a)(Q.a.mark((function e(){var t,c,a,i,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),0!==(null!==(t=null!==(c=null===w||void 0===w?void 0:w.id)&&void 0!==c?c:null===N||void 0===N?void 0:N.id)&&void 0!==t?t:0)){e.next=4;break}return P({message:"Select Personnel"}),e.abrupt("return");case 4:return e.next=6,an(null!==(a=null===r||void 0===r?void 0:r.id)&&void 0!==a?a:0,null!==(i=null!==(s=null===w||void 0===w?void 0:w.id)&&void 0!==s?s:null===N||void 0===N?void 0:N.id)&&void 0!==i?i:0).then((function(e){e&&P({message:"Success",onOk:function(){n(!0)}})})).catch((function(e){P({message:e.message})})).finally((function(){return E(!1)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return n(!1)},title:null!==t&&void 0!==t?t:"Assign Concern",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(Dt,{title:"Available Personnel",name:"available-personnel",value:null===N||void 0===N?void 0:N.name,onChange:L,itemsList:b}),Object(l.jsx)(Dt,{title:"All Personnel",name:"personnel",value:null===w||void 0===w?void 0:w.name,onChange:L,itemsList:o})]})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return F.apply(this,arguments)},className:"btn-modal btn-primary",children:"ASSIGN"})})]})}function dn(e,t,n){return jn.apply(this,arguments)}function jn(){return(jn=Object(q.a)(Q.a.mark((function e(t,n,c){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="?isResolved=".concat(t,"&isForwarded=").concat(n,"&page=").concat(c),e.abrupt("return",Le("".concat(Pe).concat(r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(e){return bn.apply(this,arguments)}function bn(){return(bn=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Le("".concat(Ie,"?concernId=").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(q.a)(Q.a.mark((function e(t,n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Me(Ae,{id:t,actionTaken:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(e,t,n){return On.apply(this,arguments)}function On(){return(On=Object(q.a)(Q.a.mark((function e(t,n,c){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Me(De,{id:t,personnelId:n,reason:c}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e){var t,n=e.action;return Object(l.jsxs)("div",{className:"concern-action",children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("span",{children:[n.prevPersonnelConcernId?"Forwarded":"Assigned"," to"]}),"\xa0",Object(l.jsxs)("span",{children:["(",n.receivedDate&&new Date(n.receivedDate).toLocaleString(),")"]})]}),Object(l.jsx)("div",{children:null===(t=n.personnel)||void 0===t?void 0:t.name}),Object(l.jsx)("div",{children:"Status"}),Object(l.jsxs)("div",{children:[n.status,n.closedDate&&Object(l.jsxs)("span",{children:[" (",new Date(n.closedDate).toLocaleString(),")"]}),n.forwardDate&&Object(l.jsxs)("span",{children:[" (",new Date(n.forwardDate).toLocaleString(),")"]})]}),n.statusId!==v&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[n.statusId===h?"Reason":"Action Taken",":"]}),Object(l.jsx)("div",{children:n.action})]})]})}function xn(e){var t=e.concern,n=e.onClose,r=Object(c.useState)([]),a=Object(s.a)(r,2),i=a[0],o=a[1],u=z(),j=K();function f(){return(f=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return p.apply(this,arguments)}function p(){return(p=Object(q.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fn(null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:0).then((function(e){void 0!==e&&o(e)})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(l.jsx)(d,{title:"Concern Actions",onClose:n,children:Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("div",{className:"concern-actions",children:i.map((function(e){return Object(l.jsx)(mn,{action:e},e.id)}))})})})}function yn(){return wn.apply(this,arguments)}function wn(){return(wn=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(ve);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(){return(kn=Object(q.a)(Q.a.mark((function e(t,n){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Le(he+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Me(Oe,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(e){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze("".concat(me,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(xe);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(){return(In=Object(q.a)(Q.a.mark((function e(t,n){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Le(ye+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Me(we,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(e){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze("".concat(ke,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e){var t=e.title,n=e.name,c=e.id,r=e.className,a=e.value,i=e.readonly,s=e.onChange,o=e.lineCount;return Object(l.jsxs)("div",{className:"custom-input no-height",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)("div",{className:"input-container",children:i?Object(l.jsx)("span",{children:a}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("textarea",{rows:o,name:n,id:c,value:a,className:r,onChange:function(e){return null===s||void 0===s?void 0:s({elementName:null!==n&&void 0!==n?n:"",value:e.target.value})}})})})]})}function Fn(e){var t,n,r,a=e.selectedConcern,i=e.onClose,o=Object(c.useState)((function(){return null!==a&&void 0!==a?a:{id:0,entryDate:void 0,caller:"",description:"",classification:void 0,classificationId:void 0,closedDate:void 0,officeId:void 0,office:void 0,personnel:void 0,personnelId:void 0}})),u=Object(s.a)(o,2),j=u[0],f=u[1],b=Object(c.useState)([]),p=Object(s.a)(b,2),v=p[0],h=p[1],O=Object(c.useState)([]),m=Object(s.a)(O,2),x=m[0],y=m[1],w=Object(c.useState)((function(){return[]})),k=Object(s.a)(w,2),g=k[0],C=k[1],N=Object(c.useState)((function(){return[]})),S=Object(s.a)(N,2),E=S[0],P=S[1],I=Object(c.useState)([]),A=Object(s.a)(I,2),D=A[0],U=A[1],R=Object(c.useState)([]),L=Object(s.a)(R,2),F=L[0],M=L[1],T=Object(c.useState)([]),V=Object(s.a)(T,2),J=V[0],Y=V[1],H=Object(c.useState)(),X=Object(s.a)(H,2),Z=X[0],$=X[1],_=Object(c.useState)(),ee=Object(s.a)(_,2),te=ee[0],ne=ee[1],ce=z(),re=K();function ae(){return(ae=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return e.next=4,je();case 4:return e.next=6,oe();case 6:return e.next=8,ie();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return se.apply(this,arguments)}function se(){return(se=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,pt().then((function(e){void 0!==e&&(Y(e),U([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(q.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,ht(null!==(n=null!==t&&void 0!==t?t:null===j||void 0===j?void 0:j.classificationId)&&void 0!==n?n:0).then((function(e){void 0!==e&&(ne(void 0),M([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return de.apply(this,arguments)}function de(){return(de=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,yn().then((function(e){void 0!==e&&(h((function(){return e})),C((function(){return[{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.description}}))))})))})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return fe.apply(this,arguments)}function fe(){return(fe=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,En().then((function(e){void 0!==e&&(y((function(){return e})),P((function(){return[{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.description}}))))})))})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(q.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(!0),0!==j.id){e.next=6;break}return e.next=4,_t(j,null!==(t=null===Z||void 0===Z?void 0:Z.id)&&void 0!==t?t:null===te||void 0===te?void 0:te.id).then((function(){re({message:"New Concern Added",onOk:function(){i(!0)}})})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 4:e.next=8;break;case 6:return e.next=8,tn(j).then((function(){re({message:"Concern Updated",onOk:function(){i(!0)}})})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(q.a)(Q.a.mark((function e(t){var n,c,r,a,i,s,o,u;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.elementName,c=t.value,"personnel"!==n){e.next=5;break}return $(null===(r=J.filter((function(e){return e.id===+c})))||void 0===r?void 0:r[0]),ne(void 0),e.abrupt("return");case 5:if("available-personnel"!==n){e.next=9;break}return ne(null===(a=J.filter((function(e){return e.id===+c})))||void 0===a?void 0:a[0]),$(void 0),e.abrupt("return");case 9:if("office"!==n){e.next=13;break}return s=null===(i=x.filter((function(e){return e.id===+c})))||void 0===i?void 0:i[0],f((function(e){return void 0===e?{office:s,officeId:s.id}:Object(W.a)(Object(W.a)({},e),{},{office:s,officeId:s.id})})),e.abrupt("return");case 13:if("classification"!==n){e.next=19;break}return u=null===(o=v.filter((function(e){return e.id===+c})))||void 0===o?void 0:o[0],f((function(e){return void 0===e?{classification:u,classificationId:u.id}:Object(W.a)(Object(W.a)({},e),{},{classification:u,classificationId:u.id})})),e.next=18,oe(null===u||void 0===u?void 0:u.id);case 18:return e.abrupt("return");case 19:f((function(e){return void 0===e?Object(G.a)({},n,c):Object(W.a)(Object(W.a)({},e),{},Object(G.a)({},n,c))}));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){ae.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return i(!1)},title:(null!==(t=null===j||void 0===j?void 0:j.id)&&void 0!==t?t:0)>0?"Update Concern":"New Concern",className:"management-modal",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)(Dt,{title:"Office",name:"office",value:null===j||void 0===j||null===(n=j.office)||void 0===n?void 0:n.description,onChange:pe,itemsList:E})}),Object(l.jsx)("div",{children:Object(l.jsx)(Dt,{title:"Classification",name:"classification",value:null===j||void 0===j||null===(r=j.classification)||void 0===r?void 0:r.description,onChange:pe,itemsList:g})}),Object(l.jsx)("div",{children:Object(l.jsx)(lt,{title:"Caller",name:"caller",value:null===j||void 0===j?void 0:j.caller,onChange:pe})})]}),Object(l.jsx)("div",{children:Object(l.jsx)(Ln,{title:"Description",name:"description",lineCount:7,value:null===j||void 0===j?void 0:j.description,onChange:pe})}),!j.id&&Object(l.jsx)("div",{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(Dt,{title:"Available Personnel",name:"available-personnel",value:null===te||void 0===te?void 0:te.name,onChange:pe,itemsList:F}),Object(l.jsx)(Dt,{title:"All Personnel",name:"personnel",value:null===Z||void 0===Z?void 0:Z.name,onChange:pe,itemsList:D}),Object(l.jsx)("div",{})]})})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return be.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var Mn=Object(c.createContext)([]),Kn=Object(c.createContext)((function(){}));function zn(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)((function(){return[]})),v=Object(s.a)(p,2),h=v[0],O=v[1],m=Object(c.useState)(!1),x=Object(s.a)(m,2),y=x[0],w=x[1],k=Object(c.useState)(!1),g=Object(s.a)(k,2),C=g[0],N=g[1],S=Object(c.useState)(!1),E=Object(s.a)(S,2),P=E[0],I=E[1],A=Object(c.useState)(),D=Object(s.a)(A,2),U=D[0],R=D[1],L=z(),F=K();function M(e){w(!1),N(!1),e&&T(n,f)}function T(e,t){return V.apply(this,arguments)}function V(){return V=Object(q.a)(Q.a.mark((function e(t,n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(!0),Zt(t,n).then((function(e){void 0!==e&&(O(e.results),u(e.pageCount),b(n))})).catch((function(e){F({message:e.message})})).finally((function(){return L(!1)}));case 2:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function B(){return(B=Object(q.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,cn(t).then((function(){F({message:"User Deleted",onOk:function(){T(n,f)}})})).catch((function(e){F({message:e.message})})).finally((function(){return L(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){T(n,f)}),[]),Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)(ft,{search:function(e){r(e),T(e,1)}}),Object(l.jsx)("div",{children:Object(l.jsx)(jt,{pages:o,currentPageNumber:f,goInPage:function(e){T(n,e)}})}),Object(l.jsx)(Mn.Provider,{value:h,children:Object(l.jsx)(Kn.Provider,{value:function(e){switch(e.action){case"Add":R((function(){})),w((function(){return!0}));break;case"ViewAction":R(e.payload),I(!0);break;case"Assign":R(e.payload),N(!0);break;case"Edit":R(e.payload),w(!0);break;case"Delete":F({message:"Are you sure you want to delete this?",action:"YESNO",onOk:function(){!function(e){B.apply(this,arguments)}(e.payload)}});break;default:F({message:"Invalid Action"})}},children:Object(l.jsx)(un,{})})})]}),Object(l.jsxs)("div",{children:[y&&Object(l.jsx)(Fn,{onClose:M,selectedConcern:U}),C&&Object(l.jsx)(ln,{onClose:M,concern:U}),P&&Object(l.jsx)(xn,{concern:U,onClose:function(){return I(!1)}})]})]})}function Tn(e){var t,n=e.onClose,r=F(),a=T(),i=Object(c.useState)((function(){var e;return{username:null!==(e=null===r||void 0===r?void 0:r.username)&&void 0!==e?e:"",personnel:null===r||void 0===r?void 0:r.personnel,password:"",newPassword:"",confirmNewPassword:""}})),o=Object(s.a)(i,2),u=o[0],j=o[1],f=z(),b=K();function p(){return(p=Object(q.a)(Q.a.mark((function e(){var t,c,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(null!==(t=u.password)&&void 0!==t?t:"")){e.next=5;break}if(""===(null!==(c=u.newPassword)&&void 0!==c?c:"")||""===(null!==(i=u.confirmNewPassword)&&void 0!==i?i:"")){e.next=5;break}if(u.newPassword===u.confirmNewPassword){e.next=5;break}return b({message:"Password not match"}),e.abrupt("return");case 5:return f(!0),e.next=8,ot(u).then((function(){b({message:"Profile Updated",onOk:function(){N(Object(W.a)(Object(W.a)({},r),{},{username:u.username})),a(Object(W.a)(Object(W.a)({},r),{},{username:u.username})),n()}})})).catch((function(e){b({message:e.message})})).finally((function(){return f(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=e.elementName,n=e.value;j((function(e){return Object(W.a)(Object(W.a)({},e),{},Object(G.a)({},t,n))}))}return Object(l.jsxs)(d,{className:"profile-modal",onClose:n,title:"Users Profile",children:[Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(lt,{title:"Name",readonly:!0,value:null===u||void 0===u||null===(t=u.personnel)||void 0===t?void 0:t.name}),Object(l.jsx)(lt,{title:"Username",name:"username",value:null===u||void 0===u?void 0:u.username,onChange:v}),Object(l.jsx)(lt,{title:"Old Password",name:"password",value:null===u||void 0===u?void 0:u.password,type:"password",onChange:v}),Object(l.jsx)(lt,{title:"New Password",name:"newPassword",type:"password",value:null===u||void 0===u?void 0:u.newPassword,onChange:v}),Object(l.jsx)(lt,{title:"Confirm New Password",name:"confirmNewPassword",type:"password",value:null===u||void 0===u?void 0:u.confirmNewPassword,onChange:v})]})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return p.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}function Vn(e){var t=e.role,n=Object(c.useContext)(Yn);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"View",payload:t})},children:"View"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Edit",payload:t})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Delete",payload:t.id})},children:"Delete"})]})]})}function Bn(){var e=Object(c.useContext)(Yn),t=Object(c.useContext)(Jn);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Description"})}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Role"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(Vn,{role:e},e.id)}))})]})}var Jn=Object(c.createContext)([]),Yn=Object(c.createContext)((function(){}));function Gn(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),v=Object(s.a)(p,2),h=v[0],O=v[1],m=z(),x=K(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),k=w[0],g=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1],P=Object(c.useState)(!1),I=Object(s.a)(P,2),A=I[0],D=I[1];function U(e){var t=e.searchKey,c=e.page;m(!0),function(e,t){return Nt.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:h).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){x({message:e.message})})).finally((function(){return m(!1)}))}return Object(c.useEffect)((function(){U({})}),[]),Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsxs)("div",{className:"item-container",children:[Object(l.jsx)(ft,{search:function(e){r(e),U({searchKey:e,page:1})}}),Object(l.jsx)("div",{children:Object(l.jsx)(jt,{pages:f,currentPageNumber:h,goInPage:function(e){U({page:e})}})}),Object(l.jsx)(Jn.Provider,{value:o,children:Object(l.jsx)(Yn.Provider,{value:function(e){switch(e.action){case"View":g(!0),E(e.payload),D(!0);break;case"Add":g(!0),E(void 0),D(!1);break;case"Edit":g(!0),E(e.payload),D(!1)}},children:Object(l.jsx)(Bn,{})})})]}),Object(l.jsx)("div",{children:k&&Object(l.jsx)(Tt,{onClose:function(e){g(!1),e&&U({})},selectedRole:S,viewOnly:A})})]})}function Wn(e){var t,n,r,a=e.concern,i=Object(c.useContext)(Zn);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:a.receivedDate&&new Date(a.receivedDate).toLocaleString()}),Object(l.jsxs)("td",{children:[Object(l.jsx)("div",{className:"elipsis",children:a.concern.description}),a.prevPersonnelConcernId&&Object(l.jsxs)("div",{className:"elipsis",children:[Object(l.jsx)("span",{children:"Forward Reason: "}),null===(t=a.prevPersonnelConcern)||void 0===t?void 0:t.action]})]}),Object(l.jsx)("td",{children:null===(n=a.concern.classification)||void 0===n?void 0:n.description}),Object(l.jsx)("td",{children:null===(r=a.concern.office)||void 0===r?void 0:r.description}),Object(l.jsx)("td",{children:a.concern.caller}),Object(l.jsxs)("td",{children:[a.status,a.closedDate&&Object(l.jsxs)("span",{children:[" (",new Date(a.closedDate).toLocaleString(),")"]}),a.forwardDate&&Object(l.jsxs)("span",{children:[" (",new Date(a.forwardDate).toLocaleString(),")"]}),a.statusId!==v&&Object(l.jsx)("div",{className:"elipsis",children:null===a||void 0===a?void 0:a.action})]}),Object(l.jsx)("td",{className:"table-actions",children:a.statusId===v&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"btn",onClick:function(){i({action:"Resolve",payload:a})},children:"Resolve"}),Object(l.jsx)("button",{className:"btn",onClick:function(){i({action:"Forward",payload:a})},children:"Forward"})]})})]})}function qn(){var e=Object(c.useContext)(Xn);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Received Date"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Classification"}),Object(l.jsx)("th",{children:"Concern Office"}),Object(l.jsx)("th",{children:"Caller"}),Object(l.jsx)("th",{children:"Status"})]})}),Object(l.jsx)("tbody",{children:e.map((function(e){return Object(l.jsx)(Wn,{concern:e},e.id)}))})]})}function Hn(e){var t=e.onClose,n=e.personnelConcern,r=Object(c.useState)(""),a=Object(s.a)(r,2),i=a[0],o=a[1],u=Object(c.useState)([]),j=Object(s.a)(u,2),f=j[0],b=j[1],p=Object(c.useState)([]),v=Object(s.a)(p,2),h=v[0],O=v[1],m=Object(c.useState)([]),x=Object(s.a)(m,2),y=x[0],w=x[1],k=Object(c.useState)(),g=Object(s.a)(k,2),C=g[0],N=g[1],S=Object(c.useState)(),E=Object(s.a)(S,2),P=E[0],I=E[1],A=z(),D=K(),U=F();function R(){return(R=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.next=4,L();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return M.apply(this,arguments)}function M(){return(M=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,pt().then((function(e){void 0!==e&&(w(e),b([{key:"",value:""}].concat(Object(B.a)(e.filter((function(e){var t;return e.id!==(null===U||void 0===U||null===(t=U.personnel)||void 0===t?void 0:t.id)})).map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){D({message:e.message})})).finally((function(){return A(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return V.apply(this,arguments)}function V(){return(V=Object(q.a)(Q.a.mark((function e(){var t,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,ht(null!==(t=null===n||void 0===n||null===(c=n.concern)||void 0===c?void 0:c.classificationId)&&void 0!==t?t:0).then((function(e){void 0!==e&&O([{key:"",value:""}].concat(Object(B.a)(e.filter((function(e){var t;return e.id!==(null===U||void 0===U||null===(t=U.personnel)||void 0===t?void 0:t.id)})).map((function(e){return{key:e.id.toString(),value:e.name}})))))})).catch((function(e){D({message:e.message})})).finally((function(){return A(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){var t,n,c=e.elementName,r=e.value;return"personnel"===c?(N(null===(t=y.filter((function(e){return e.id===+r})))||void 0===t?void 0:t[0]),void I(void 0)):"available-personnel"===c?(I(null===(n=y.filter((function(e){return e.id===+r})))||void 0===n?void 0:n[0]),void N(void 0)):void 0}function Y(){return(Y=Object(q.a)(Q.a.mark((function e(){var c,r,a,s,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),0!==(null!==(c=null!==(r=null===C||void 0===C?void 0:C.id)&&void 0!==r?r:null===P||void 0===P?void 0:P.id)&&void 0!==c?c:0)){e.next=4;break}return D({message:"Select Personnel"}),e.abrupt("return");case 4:return e.next=6,hn(null!==(a=null===n||void 0===n?void 0:n.id)&&void 0!==a?a:0,null!==(s=null!==(o=null===C||void 0===C?void 0:C.id)&&void 0!==o?o:null===P||void 0===P?void 0:P.id)&&void 0!==s?s:0,i).then((function(e){e&&D({message:"Success",onOk:function(){t(!0)}})})).catch((function(e){D({message:e.message})})).finally((function(){return A(!1)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){R.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){t(!1)},title:"Forward Concern",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(Ln,{title:"Reason",lineCount:5,onChange:function(e){o(e.value)}}),Object(l.jsx)(Dt,{title:"Available Personnel",name:"available-personnel",value:null===P||void 0===P?void 0:P.name,onChange:J,itemsList:h}),Object(l.jsx)(Dt,{title:"All Personnel",name:"personnel",value:null===C||void 0===C?void 0:C.name,onChange:J,itemsList:f})]})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return Y.apply(this,arguments)},className:"btn-modal btn-primary",children:"FORWARD"})})]})}function Qn(e){var t=e.personnelConcern,n=e.onClose,r=Object(c.useState)(""),a=Object(s.a)(r,2),i=a[0],o=a[1],u=z(),j=K();function f(){return(f=Object(q.a)(Q.a.mark((function e(){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,pn(null!==(c=null===t||void 0===t?void 0:t.id)&&void 0!==c?c:0,i).then((function(e){e&&j({message:"Success",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)(d,{onClose:function(){n(!1)},title:"Resolve Concern",children:[Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("div",{children:Object(l.jsx)(Ln,{title:"Action Taken",lineCount:5,onChange:function(e){o(e.value)}})})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return f.apply(this,arguments)},className:"btn-modal btn-primary",children:"RESOLVE"})})]})}var Xn=Object(c.createContext)([]),Zn=Object(c.createContext)((function(){}));function $n(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(!1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(!1),v=Object(s.a)(p,2),h=v[0],O=v[1],m=Object(c.useState)(!1),x=Object(s.a)(m,2),y=x[0],w=x[1],k=Object(c.useState)(!1),g=Object(s.a)(k,2),C=g[0],N=g[1],S=Object(c.useState)(1),E=Object(s.a)(S,2),P=E[0],I=E[1],A=Object(c.useState)(0),D=Object(s.a)(A,2),U=D[0],R=D[1],L=K(),F=z();function M(e){return T.apply(this,arguments)}function T(){return(T=Object(q.a)(Q.a.mark((function e(t){var n,c,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,c=t.isResolved,a=t.isForwarded,F(!0),e.next=4,dn(null!==c&&void 0!==c?c:y,null!==a&&void 0!==a?a:C,null!==n&&void 0!==n?n:P).then((function(e){void 0!==e&&(r(e.results),R(e.pageCount))})).catch((function(e){L({message:e.message})})).finally((function(){return F(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){b(!1),O(!1),e&&M({})}return Object(c.useEffect)((function(){M({})}),[]),Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)("div",{className:"head-content",children:[Object(l.jsxs)("div",{className:"checkbox-container",children:[Object(l.jsx)(Lt,{text:"Resolved",id:"resolved",checkChange:function(){var e=!y;w(e),M({isResolved:e})},isCheck:y}),Object(l.jsx)(Lt,{text:"Forwarded",id:"forwarded",checkChange:function(){var e=!C;N(e),M({isForwarded:e})},isCheck:C})]}),Object(l.jsx)(jt,{pages:U,currentPageNumber:P,goInPage:function(e){I(e),M({page:e})}})]}),Object(l.jsx)(Xn.Provider,{value:n,children:Object(l.jsx)(Zn.Provider,{value:function(e){switch(e.action){case"Resolve":u(e.payload),b(!0);break;case"Forward":u(e.payload),O(!0);break;default:L({message:"Invalid Action"})}},children:Object(l.jsx)(qn,{})})})]})}),Object(l.jsxs)("div",{children:[f&&Object(l.jsx)(Qn,{onClose:V,personnelConcern:o}),h&&Object(l.jsx)(Hn,{onClose:V,personnelConcern:o})]})]})}function _n(e){var t=e.classification,n=Object(c.useContext)(cc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Edit",payload:t})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Delete",payload:t.id})},children:"Delete"})]})]})}function ec(){var e=Object(c.useContext)(cc),t=Object(c.useContext)(nc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Description"})}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Classification"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(_n,{classification:e},e.id)}))})]})}function tc(e){var t=e.selectedClassification,n=e.onClose,r=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,description:""}})),a=Object(s.a)(r,2),i=a[0],o=a[1],u=z(),j=K();function f(){return(f=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),0!==i.id){e.next=6;break}return e.next=4,gn(i).then((function(){j({message:"Classification Added",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Nn(i).then((function(){j({message:"Classification Updated",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)(d,{onClose:function(){n(!1)},title:null!==t&&void 0!==t&&t.id?"Update Classificaiton":"Add New Classificaiton",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:Object(l.jsx)(lt,{title:"Description",name:"description",value:i.description,onChange:function(e){o((function(t){return Object(W.a)(Object(W.a)({},t),{},Object(G.a)({},e.elementName,e.value))}))}})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return f.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var nc=Object(c.createContext)([]),cc=Object(c.createContext)((function(){}));function rc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),v=Object(s.a)(p,2),h=v[0],O=v[1],m=z(),x=K(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),k=w[0],g=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1];function P(e){var t=e.searchKey,c=e.page;m(!0),function(e,t){return kn.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:h).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){x({message:e.message})})).finally((function(){return m(!1)}))}return Object(c.useEffect)((function(){P({})}),[]),Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsxs)("div",{className:"item-container",children:[Object(l.jsx)(ft,{search:function(e){r(e),P({searchKey:e,page:1})}}),Object(l.jsx)("div",{children:Object(l.jsx)(jt,{pages:f,currentPageNumber:h,goInPage:function(e){P({page:e})}})}),Object(l.jsx)(nc.Provider,{value:o,children:Object(l.jsx)(cc.Provider,{value:function(e){switch(e.action){case"Add":g(!0),E(void 0);break;case"Edit":g(!0),E(e.payload)}},children:Object(l.jsx)(ec,{})})})]}),Object(l.jsx)("div",{children:k&&Object(l.jsx)(tc,{onClose:function(e){g(!1),e&&P({})},selectedClassification:S})})]})}function ac(e){var t,n=e.personnel,r=Object(c.useContext)(uc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:n.name}),Object(l.jsx)("td",{children:null===(t=n.classification)||void 0===t?void 0:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return r({action:"Edit",payload:n})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return r({action:"Delete",payload:n.id})},children:"Delete"})]})]})}function ic(){var e=Object(c.useContext)(uc),t=Object(c.useContext)(oc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Classification"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Personnel"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(ac,{personnel:e},e.id)}))})]})}function sc(e){var t,n=e.selectedPersonnel,r=e.onClose,a=Object(c.useState)((function(){return null!==n&&void 0!==n?n:{id:0,classification:void 0,classificationId:void 0,name:""}})),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)([]),f=Object(s.a)(j,2),b=f[0],p=f[1],v=Object(c.useState)([]),h=Object(s.a)(v,2),O=h[0],m=h[1],x=z(),y=K();function w(){return(w=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return g.apply(this,arguments)}function g(){return(g=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,yn().then((function(e){void 0!==e&&(p((function(){return e})),m((function(){return[{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.description}}))))})))})).catch((function(e){y({message:e.message})})).finally((function(){return x(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),0!==o.id){e.next=6;break}return e.next=4,xt(o).then((function(){y({message:"Personnel Added",onOk:function(){r(!0)}})})).catch((function(e){y({message:e.message})})).finally((function(){return x(!1)}));case 4:e.next=8;break;case 6:return e.next=8,wt(o).then((function(){y({message:"Personnel Updated",onOk:function(){r(!0)}})})).catch((function(e){y({message:e.message})})).finally((function(){return x(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){var t=e.value,n=e.elementName;if("classification"!==n)u((function(e){return Object(W.a)(Object(W.a)({},e),{},Object(G.a)({},n,t))}));else{var c,r=null===(c=b.filter((function(e){return e.id===+t})))||void 0===c?void 0:c[0];u((function(e){return void 0===e?{classification:r,classificationId:r.id}:Object(W.a)(Object(W.a)({},e),{},{classification:r,classificationId:r.id})}))}}return Object(c.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){r(!1)},title:null!==n&&void 0!==n&&n.id?"Update Personnel":"Add New Personnel",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsx)(lt,{title:"Name",name:"name",value:o.name,onChange:N}),Object(l.jsx)(Dt,{title:"Classification",name:"classification",value:null===o||void 0===o||null===(t=o.classification)||void 0===t?void 0:t.description,onChange:N,itemsList:O})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return C.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var oc=Object(c.createContext)([]),uc=Object(c.createContext)((function(){}));function lc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),v=Object(s.a)(p,2),h=v[0],O=v[1],m=z(),x=K(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),k=w[0],g=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1];function P(e){var t=e.searchKey,c=e.page;m(!0),function(e,t){return mt.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:h).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){x({message:e.message})})).finally((function(){return m(!1)}))}return Object(c.useEffect)((function(){P({})}),[]),Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsxs)("div",{className:"item-container",children:[Object(l.jsx)(ft,{search:function(e){r(e),P({searchKey:e,page:1})}}),Object(l.jsx)("div",{children:Object(l.jsx)(jt,{pages:f,currentPageNumber:h,goInPage:function(e){P({page:e})}})}),Object(l.jsx)(oc.Provider,{value:o,children:Object(l.jsx)(uc.Provider,{value:function(e){switch(e.action){case"Add":g(!0),E(void 0);break;case"Edit":g(!0),E(e.payload)}},children:Object(l.jsx)(ic,{})})})]}),Object(l.jsx)("div",{children:k&&Object(l.jsx)(sc,{onClose:function(e){g(!1),e&&P({})},selectedPersonnel:S})})]})}function dc(e){var t=e.office,n=Object(c.useContext)(pc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.description}),Object(l.jsx)("td",{children:t.abbreviation}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Edit",payload:t})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Delete",payload:t.id})},children:"Delete"})]})]})}function jc(){var e=Object(c.useContext)(pc),t=Object(c.useContext)(bc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Abbreviation"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Office"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(dc,{office:e},e.id)}))})]})}function fc(e){var t=e.selectedOffice,n=e.onClose,r=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,description:"",abbreviation:""}})),a=Object(s.a)(r,2),i=a[0],o=a[1],u=z(),j=K();function f(){return(f=Object(q.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),0!==i.id){e.next=6;break}return e.next=4,An(i).then((function(){j({message:"Office Added",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Un(i).then((function(){j({message:"Office Updated",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){o((function(t){return Object(W.a)(Object(W.a)({},t),{},Object(G.a)({},e.elementName,e.value))}))}return Object(l.jsxs)(d,{onClose:function(){n(!1)},title:null!==t&&void 0!==t&&t.id?"Update Office":"Add New Office",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsx)(lt,{title:"Description",name:"description",value:i.description,onChange:b}),Object(l.jsx)(lt,{title:"Abbreviation",name:"abbreviation",value:i.abbreviation,onChange:b})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return f.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var bc=Object(c.createContext)([]),pc=Object(c.createContext)((function(){}));function vc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],p=Object(c.useState)(1),v=Object(s.a)(p,2),h=v[0],O=v[1],m=z(),x=K(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),k=w[0],g=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1];function P(e){var t=e.searchKey,c=e.page;m(!0),function(e,t){return In.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:h).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){x({message:e.message})})).finally((function(){return m(!1)}))}return Object(c.useEffect)((function(){P({})}),[]),Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsxs)("div",{className:"item-container",children:[Object(l.jsx)(ft,{search:function(e){r(e),P({searchKey:e,page:1})}}),Object(l.jsx)("div",{children:Object(l.jsx)(jt,{pages:f,currentPageNumber:h,goInPage:function(e){P({page:e})}})}),Object(l.jsx)(bc.Provider,{value:o,children:Object(l.jsx)(pc.Provider,{value:function(e){switch(e.action){case"Add":g(!0),E(void 0);break;case"Edit":g(!0),E(e.payload)}},children:Object(l.jsx)(jc,{})})})]}),Object(l.jsx)("div",{children:k&&Object(l.jsx)(fc,{onClose:function(e){g(!1),e&&P({})},selectedOffice:S})})]})}function hc(){var e,t,n,r,a,i,o,u,d,j,f,b,p,v,h,O,m,x,y,w,k,g,C,N,E,P,I,A,D,U,R,L,z=Object(c.useState)(!1),T=Object(s.a)(z,2),V=T[0],G=T[1],W=Object(c.useContext)(S),q=F(),H=M(),Q=K(),X=Object(c.useMemo)((function(){var e,t,n,c;return Object(B.a)(null!==q&&void 0!==q&&q.admin?[{head:"Transactions",navs:[{route:Qt,name:"Concerns"},{route:Xt,name:"Tickets"}]},{head:"Managements",navs:[{route:qt,name:"Personnel"},{route:Gt,name:"Roles"},{route:Ht,name:"Classification"},{route:Wt,name:"Office"}]}]:[{head:"Transactions",navs:Object(B.a)(null!==(e=null===q||void 0===q||null===(t=q.distinctModules)||void 0===t?void 0:t.filter((function(e){return"Transaction"===e.header})).map((function(e){return{route:e.route,name:e.description}})))&&void 0!==e?e:[])},{head:"Managements",navs:Object(B.a)(null!==(n=null===q||void 0===q||null===(c=q.distinctModules)||void 0===c?void 0:c.filter((function(e){return"Management"===e.header})).map((function(e){return{route:e.route,name:e.description}})))&&void 0!==n?n:[])}])}),[null===q||void 0===q?void 0:q.distinctModules,null===q||void 0===q?void 0:q.admin]);return Object(l.jsx)(l.Fragment,{children:W?Object(l.jsxs)(J.a,{children:[Object(l.jsx)("header",{className:"navbar",children:Object(l.jsxs)("div",{className:"menu-container",children:[Object(l.jsx)(J.b,{to:Jt,className:"icon",children:"TICKETING SYSTEM"}),Object(l.jsxs)("nav",{children:[Object(l.jsx)("div",{children:Object(l.jsxs)("ul",{className:"navigations",children:[(null!==(e=null===q||void 0===q||null===(t=q.distinctModules)||void 0===t?void 0:t.length)&&void 0!==e?e:0)<3&&(null!==(n=null===q||void 0===q||null===(r=q.distinctModules)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0?null===q||void 0===q||null===(a=q.distinctModules)||void 0===a?void 0:a.map((function(e){var t,n;return Object(l.jsx)("li",{children:Object(l.jsx)(J.b,{to:null!==(t=e.route)&&void 0!==t?t:"",className:"nav-menu",children:null!==(n=e.description)&&void 0!==n?n:""})},e.id.toString())})):Object(l.jsxs)("li",{children:[Object(l.jsx)("button",{className:"nav-menu",children:"Menus"}),Object(l.jsx)("div",{className:"menus",children:X.filter((function(e){return e.navs.length>0})).map((function(e){return Object(l.jsxs)("div",{className:"menu-items",children:[Object(l.jsx)("div",{className:"head",children:e.head}),Object(l.jsx)("div",{className:"navs",children:e.navs.map((function(e){var t;return Object(l.jsx)("div",{children:Object(l.jsx)(J.b,{to:null!==(t=e.route)&&void 0!==t?t:"",className:"nav-menu",children:e.name})},e.route)}))})]},e.head)}))})]}),((null===q||void 0===q||null===(i=q.distinctModules)||void 0===i||null===(o=i.filter((function(e){return e.route===Yt})))||void 0===o||null===(u=o[0])||void 0===u?void 0:u.id)||(null===q||void 0===q?void 0:q.admin))&&Object(l.jsx)("li",{children:Object(l.jsx)(J.b,{to:Yt,className:"nav-menu",children:"Users"})})]})}),Object(l.jsxs)("ul",{className:"user",children:[Object(l.jsx)("li",{children:Object(l.jsx)("label",{className:"user-name nav-menu",onClick:function(){return G(!0)},children:"".concat(null===q||void 0===q||null===(d=q.personnel)||void 0===d?void 0:d.name," (").concat(null===q||void 0===q||null===(j=q.personnel)||void 0===j||null===(f=j.classification)||void 0===f?void 0:f.description,")")})}),Object(l.jsx)("li",{children:Object(l.jsx)("label",{onClick:function(){Q({message:"Continue to logout?",action:"YESNO",onOk:function(){H(!1),G(!1)}})},className:"nav-menu",children:"Logout"})})]})]})]})}),Object(l.jsxs)(Y.c,{children:[((null===q||void 0===q||null===(b=q.distinctModules)||void 0===b||null===(p=b.filter((function(e){return e.route===Yt})))||void 0===p||null===(v=p[0])||void 0===v?void 0:v.id)||(null===q||void 0===q?void 0:q.admin))&&Object(l.jsx)(Y.a,{path:Yt,exact:!0,component:Bt}),((null===q||void 0===q||null===(h=q.distinctModules)||void 0===h||null===(O=h.filter((function(e){return e.route===Gt})))||void 0===O||null===(m=O[0])||void 0===m?void 0:m.id)||(null===q||void 0===q?void 0:q.admin))&&Object(l.jsx)(Y.a,{path:Gt,exact:!0,component:Gn}),((null===q||void 0===q||null===(x=q.distinctModules)||void 0===x||null===(y=x.filter((function(e){return e.route===Qt})))||void 0===y||null===(w=y[0])||void 0===w?void 0:w.id)||(null===q||void 0===q?void 0:q.admin))&&Object(l.jsx)(Y.a,{path:Qt,exact:!0,component:zn}),((null===q||void 0===q||null===(k=q.distinctModules)||void 0===k||null===(g=k.filter((function(e){return e.route===Xt})))||void 0===g||null===(C=g[0])||void 0===C?void 0:C.id)||(null===q||void 0===q?void 0:q.admin))&&Object(l.jsx)(Y.a,{path:Xt,exact:!0,component:$n}),((null===q||void 0===q||null===(N=q.distinctModules)||void 0===N||null===(E=N.filter((function(e){return e.route===Ht})))||void 0===E||null===(P=E[0])||void 0===P?void 0:P.id)||(null===q||void 0===q?void 0:q.admin))&&Object(l.jsx)(Y.a,{path:Ht,exact:!0,component:rc}),((null===q||void 0===q||null===(I=q.distinctModules)||void 0===I||null===(A=I.filter((function(e){return e.route===qt})))||void 0===A||null===(D=A[0])||void 0===D?void 0:D.id)||(null===q||void 0===q?void 0:q.admin))&&Object(l.jsx)(Y.a,{path:qt,exact:!0,component:lc}),((null===q||void 0===q||null===(U=q.distinctModules)||void 0===U||null===(R=U.filter((function(e){return e.route===Wt})))||void 0===R||null===(L=R[0])||void 0===L?void 0:L.id)||(null===q||void 0===q?void 0:q.admin))&&Object(l.jsx)(Y.a,{path:Wt,exact:!0,component:vc})]}),Object(l.jsx)("div",{children:V&&Object(l.jsx)(Tn,{onClose:function(){return G(!1)}})})]}):Object(l.jsx)(dt,{})})}n(107);var Oc=function(){return Object(l.jsx)(V,{children:Object(l.jsx)(hc,{})})};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Oc,{})}),document.getElementById("root"))},52:function(e,t,n){},57:function(e,t){}},[[108,1,2]]]);
//# sourceMappingURL=main.aaedc62e.chunk.js.map